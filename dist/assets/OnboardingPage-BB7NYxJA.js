const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DpwKn0FX.js","assets/index-DEb0eXj3.css"])))=>i.map(i=>d[i]);
import{G as B,b as L,d as O,r as o,j as e,o as D,m as E,F as y,i as $,C as U,_ as k,S,K as C,U as Y,B as M,k as V,I as Z,ac as z,Z as H}from"./index-DpwKn0FX.js";import{C as q}from"./chevron-left-Baswx3VL.js";import{S as K}from"./scale-MpdFvp7W.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=B("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),d=[{id:"welcome",title:"Welcome"},{id:"profile",title:"Your Stats"},{id:"focus",title:"Training Focus"},{id:"goal",title:"First Goal"},{id:"ready",title:"Ready"}],Q=[{id:"bench-pr",label:"Bench Press PR",desc:"Chasing a new max"},{id:"strength",label:"General Strength",desc:"Get stronger all around"},{id:"hypertrophy",label:"Hypertrophy",desc:"Build muscle mass"},{id:"powerlifting",label:"Powerlifting",desc:"Compete in the big 3"},{id:"fitness",label:"General Fitness",desc:"Stay healthy and active"},{id:"rehab",label:"Rehab / Return",desc:"Coming back from injury"}],X=["Bench Press","Squat","Deadlift","Overhead Press","Incline Bench","Close Grip Bench","Barbell Row","Pull-ups"];function ae(){const p=L(),{user:n,updateProfile:I}=O(),[r,f]=o.useState(0),[j,N]=o.useState(!1),[b,v]=o.useState(1),F=new URLSearchParams(window.location.search).has("preview"),[a,x]=o.useState({weight:"",heightFeet:"",heightInches:"",age:"",gender:""}),[m,P]=o.useState([]),[l,h]=o.useState({lift:"Bench Press",currentWeight:"",targetWeight:""}),[u,w]=o.useState(!1),W=()=>{v(1),f(t=>Math.min(t+1,d.length-1))},G=()=>{v(-1),f(t=>Math.max(t-1,0))},_=()=>{switch(d[r].id){case"welcome":return!0;case"profile":return a.weight&&a.heightFeet&&a.age;case"focus":return m.length>0;case"goal":return u||l.currentWeight&&l.targetWeight;case"ready":return!0;default:return!0}},A=async()=>{if(F){p("/today",{replace:!0});return}N(!0);try{const t=a.heightFeet&&a.heightInches?parseInt(a.heightFeet)*12+parseInt(a.heightInches||0):null,s={weight:a.weight?parseFloat(a.weight):null,heightFeet:a.heightFeet?parseInt(a.heightFeet):null,heightInches:a.heightInches?parseInt(a.heightInches):null,height:t,age:a.age?parseInt(a.age):null,gender:a.gender||null,trainingFocus:m,onboardingComplete:!0,credits:50};await I(s);try{const{feedService:i}=await k(async()=>{const{feedService:c}=await import("./index-DpwKn0FX.js").then(g=>g.bf);return{feedService:c}},__vite__mapDeps([0,1]));await i.createFeedItem(n.uid,"user_joined",{displayName:n.displayName||"Someone new"},"public")}catch{}if(!u&&l.currentWeight&&l.targetWeight){const{goalService:i}=await k(async()=>{const{goalService:c}=await import("./index-DpwKn0FX.js").then(g=>g.bg);return{goalService:c}},__vite__mapDeps([0,1]));await i.create(n.uid,{lift:l.lift,startWeight:parseFloat(l.currentWeight),currentWeight:parseFloat(l.currentWeight),targetWeight:parseFloat(l.targetWeight),targetDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],status:"active"})}p("/today",{replace:!0})}catch(t){console.error("Onboarding error:",t),alert("Something went wrong. Please try again.")}finally{N(!1)}},R={enter:t=>({x:t>0?80:-80,opacity:0}),center:{x:0,opacity:1},exit:t=>({x:t>0?-80:80,opacity:0})},T=()=>{switch(d[r].id){case"welcome":return e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-flame-500/20 rounded-2xl flex items-center justify-center mx-auto",children:e.jsx(Z,{className:"w-10 h-10 text-flame-400"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display text-iron-100",children:["Welcome",n!=null&&n.displayName?`, ${n.displayName.split(" ")[0]}`:""]}),e.jsx("p",{className:"text-iron-400 mt-3 max-w-sm mx-auto",children:"Let's get you set up. This takes about 30 seconds and helps the AI build better workouts for you."})]}),e.jsxs("div",{className:"flex flex-col gap-3 max-w-xs mx-auto pt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(z,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"Your stats for personalized weight calculations"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"Your training focus and first goal"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(H,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"50 free AI credits to get started"})]})]})]});case"profile":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Your Stats"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Used for workout calculations and calorie estimates"})]}),e.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Body Weight (lbs)"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.weight,onChange:t=>x(s=>({...s,weight:t.target.value})),placeholder:"170",className:"input-field w-full pl-10",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Height"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.heightFeet,onChange:t=>x(s=>({...s,heightFeet:t.target.value})),placeholder:"5",className:"input-field w-full pl-10"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-iron-500",children:"ft"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"number",value:a.heightInches,onChange:t=>x(s=>({...s,heightInches:t.target.value})),placeholder:"10",className:"input-field w-full"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-iron-500",children:"in"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.age,onChange:t=>x(s=>({...s,age:t.target.value})),placeholder:"25",className:"input-field w-full pl-10"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Gender"}),e.jsx("div",{className:"flex gap-1.5",children:["male","female"].map(t=>e.jsx("button",{onClick:()=>x(s=>({...s,gender:t})),className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors capitalize ${a.gender===t?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:t},t))})]})]})]})]});case"focus":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Training Focus"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Select all that apply — helps the AI tailor workouts"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-sm mx-auto",children:Q.map(t=>{const s=m.includes(t.id);return e.jsxs("button",{onClick:()=>{P(i=>s?i.filter(c=>c!==t.id):[...i,t.id])},className:`p-3 rounded-xl border text-left transition-all ${s?"border-flame-500 bg-flame-500/10":"border-iron-700 bg-iron-800/50 hover:border-iron-600"}`,children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-flame-300":"text-iron-200"}`,children:t.label}),e.jsx("p",{className:"text-xs text-iron-500 mt-0.5",children:t.desc})]},t.id)})})]});case"goal":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Set a Goal"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Something to work toward — you can always change it"})]}),u?e.jsxs("div",{className:"text-center py-8 max-w-sm mx-auto",children:[e.jsx("p",{className:"text-iron-400",children:"No worries — you can set goals anytime from the Goals page."}),e.jsx("button",{onClick:()=>w(!1),className:"text-flame-400 text-sm mt-3 hover:text-flame-300",children:"Actually, let me set one →"})]}):e.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Lift"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X.slice(0,6).map(t=>e.jsx("button",{onClick:()=>h(s=>({...s,lift:t})),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l.lift===t?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:t},t))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Current (lbs)"}),e.jsx("input",{type:"number",value:l.currentWeight,onChange:t=>h(s=>({...s,currentWeight:t.target.value})),placeholder:"225",className:"input-field w-full"})]}),e.jsx("div",{className:"flex items-end pb-2.5",children:e.jsx(y,{className:"w-5 h-5 text-iron-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Target (lbs)"}),e.jsx("input",{type:"number",value:l.targetWeight,onChange:t=>h(s=>({...s,targetWeight:t.target.value})),placeholder:"315",className:"input-field w-full"})]})]}),e.jsx("p",{className:"text-xs text-iron-500 text-center",children:"Target date auto-set to 90 days from now"}),e.jsx("button",{onClick:()=>w(!0),className:"text-iron-500 text-sm w-full text-center hover:text-iron-300 pt-2",children:"Skip for now"})]})]});case"ready":return e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-2xl flex items-center justify-center mx-auto",children:e.jsx(S,{className:"w-10 h-10 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display text-iron-100",children:"You're All Set"}),e.jsxs("p",{className:"text-iron-400 mt-3 max-w-xs mx-auto",children:["You've got ",e.jsx("span",{className:"text-flame-400 font-semibold",children:"50 free credits"})," to start, and you can earn more by completing tasks and training consistently."]})]}),e.jsx("div",{className:"max-w-xs mx-auto space-y-2 text-left",children:[{icon:S,color:"flame",label:"AI-generated workouts tailored to your history"},{icon:C,color:"cyan",label:"Goal tracking with automatic progress updates"},{icon:Y,color:"blue",label:"Group training with friends and teammates"},{icon:M,color:"purple",label:"AI coach that knows your full training data"}].map(({icon:t,color:s,label:i},c)=>e.jsxs("div",{className:"flex items-center gap-3 bg-iron-800/50 rounded-lg p-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full bg-${s}-500/20 flex items-center justify-center flex-shrink-0`,children:e.jsx(t,{className:`w-3 h-3 text-${s}-400`})}),e.jsx("p",{className:"text-sm text-iron-300",children:i})]},c))})]});default:return null}};return e.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-iron-950 flex flex-col",children:[e.jsxs("div",{className:"px-6 pt-6 pb-2",children:[e.jsx("div",{className:"flex gap-1.5 max-w-sm mx-auto",children:d.map((t,s)=>e.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors duration-300 ${s<=r?"bg-flame-500":"bg-iron-800"}`},t.id))}),e.jsxs("p",{className:"text-center text-xs text-iron-600 mt-2",children:[r+1," of ",d.length]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:e.jsx(D,{mode:"wait",custom:b,children:e.jsx(E.div,{custom:b,variants:R,initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:"easeInOut"},className:"w-full max-w-md",children:T()},r)})}),e.jsx("div",{className:"px-6 pb-8 pt-4",children:e.jsxs("div",{className:"flex gap-3 max-w-sm mx-auto",children:[r>0&&e.jsxs("button",{onClick:G,className:`px-4 py-3 rounded-xl bg-iron-800 text-iron-300 
                hover:bg-iron-700 transition-colors flex items-center gap-1`,children:[e.jsx(q,{className:"w-4 h-4"}),"Back"]}),r<d.length-1?e.jsxs("button",{onClick:W,disabled:!_(),className:`flex-1 py-3 rounded-xl bg-flame-500 text-white font-medium
                hover:bg-flame-400 disabled:opacity-40 disabled:cursor-not-allowed
                transition-colors flex items-center justify-center gap-2`,children:["Continue",e.jsx(y,{className:"w-4 h-4"})]}):e.jsx("button",{onClick:A,disabled:j,className:`flex-1 py-3 rounded-xl bg-flame-500 text-white font-medium
                hover:bg-flame-400 disabled:opacity-50 transition-colors
                flex items-center justify-center gap-2`,children:j?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 animate-spin"}),"Setting up..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4"}),"Let's Go"]})})]})})]})}export{ae as default};

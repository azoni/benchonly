import{G as ye,b as Ae,d as Fe,r as b,aq as $e,j as e,A as Be,n as be,M as Ke,aM as Je,i as ge,X as J,aZ as je,a3 as te,aL as Qe,$ as Oe,U as es,V as ss,W as ts,a2 as as,Y as ls,ap as is,a as rs,e as ns,I as os,Z as pe,t as cs,aI as ds,P as H,o as le,p as xs,m as Z,l as Te,aD as K,an as ms,ax as Me}from"./index-DpwKn0FX.js";import{g as ps,A as us,c as hs,a as fs}from"./calorieService-6-LCVeV1.js";import{C as Ie}from"./clock-Clnr1roD.js";import{S as ve}from"./save-DTDDPwHY.js";import{W as Ne,F as We,a as Le,A as bs}from"./wodLibrary-BricFkkX.js";import{C as gs}from"./chevron-left-Baswx3VL.js";import{T as ue}from"./trophy-CMi7ANPT.js";import{S as js}from"./search-mdFNti_z.js";import{I as he}from"./info-CPzUNWZt.js";import{T as ie}from"./trash-2-DG9EYLJt.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ye("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ye("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]),ws=[{id:"sunday",short:"Sun",full:"Sunday"},{id:"monday",short:"Mon",full:"Monday"},{id:"tuesday",short:"Tue",full:"Tuesday"},{id:"wednesday",short:"Wed",full:"Wednesday"},{id:"thursday",short:"Thu",full:"Thursday"},{id:"friday",short:"Fri",full:"Friday"},{id:"saturday",short:"Sat",full:"Saturday"}];function ks({onBack:j}){const T=Ae(),{user:w,userProfile:p}=Fe(),[y,F]=b.useState(!1),[$,M]=b.useState(!1),[d,z]=b.useState(!1),[x,O]=b.useState({date:$e(),activityType:"",duration:"",distance:"",notes:"",recurring:!1,recurringDays:[]}),B=ps(),v=us[x.activityType],_=x.activityType&&x.duration?hs(x.activityType,parseInt(x.duration),p==null?void 0:p.weight):0,I=f=>{O(N=>({...N,recurringDays:N.recurringDays.includes(f)?N.recurringDays.filter(S=>S!==f):[...N.recurringDays,f]}))},V=async()=>{if(!x.activityType){alert("Please select an activity");return}if(!x.duration){alert("Please enter duration");return}F(!0);try{const f={workoutType:"cardio",name:(v==null?void 0:v.label)||"Cardio",date:je(x.date),activityType:x.activityType,duration:parseInt(x.duration),distance:x.distance?parseFloat(x.distance):null,estimatedCalories:_,notes:x.notes};await te.create(w.uid,f),x.recurring&&x.recurringDays.length>0&&await Qe.create(w.uid,{type:"recurring",name:(v==null?void 0:v.label)||"Cardio",days:x.recurringDays,activityType:x.activityType,duration:parseInt(x.duration),distance:x.distance?parseFloat(x.distance):null,workoutType:"cardio"}),T("/workouts")}catch(f){console.error("Error saving cardio:",f),alert("Failed to save activity")}finally{F(!1)}};return e.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:j,className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-lg transition-colors",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl text-iron-50",children:"Log Cardio"}),e.jsx("p",{className:"text-iron-400 text-sm",children:"Track your cardio activity"})]})]}),e.jsx("div",{className:"card-steel p-5 mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:x.date,onChange:f=>O(N=>({...N,date:f.target.value})),className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Activity Type"}),e.jsxs("button",{onClick:()=>M(!0),className:"input-field w-full text-left flex items-center justify-between",children:[e.jsx("span",{className:v?"text-iron-100":"text-iron-500",children:(v==null?void 0:v.label)||"Select..."}),e.jsx(be,{className:"w-4 h-4 text-iron-500"})]})]})]})}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4 inline mr-1"}),"Duration (minutes)"]}),e.jsx("input",{type:"number",value:x.duration,onChange:f=>O(N=>({...N,duration:f.target.value})),placeholder:"30",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Distance (optional)"}),e.jsx("input",{type:"number",step:"0.1",value:x.distance,onChange:f=>O(N=>({...N,distance:f.target.value})),placeholder:"3.5 mi",className:"input-field w-full"})]})]}),_>0&&e.jsxs("div",{className:"mt-4 p-3 bg-flame-500/10 rounded-lg flex items-center gap-3",children:[e.jsx(Ke,{className:"w-5 h-5 text-flame-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-iron-300",children:"Estimated calories burned"}),e.jsxs("p",{className:"text-xl font-display text-flame-400",children:[_," cal"]})]})]})]}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:x.notes,onChange:f=>O(N=>({...N,notes:f.target.value})),placeholder:"How did it feel? Any details...",rows:2,className:"input-field w-full resize-none"})]}),e.jsxs("div",{className:"card-steel p-5 mb-6",children:[e.jsxs("button",{onClick:()=>z(!d),className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{className:"w-5 h-5 text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Make this recurring"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Auto-schedule weekly"})]})]}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-colors ${x.recurring?"bg-flame-500":"bg-iron-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-1 transition-transform ${x.recurring?"translate-x-6":"translate-x-1"}`})})]}),d&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-iron-800",children:[e.jsx("p",{className:"text-sm text-iron-400 mb-3",children:"Repeat on these days:"}),e.jsx("div",{className:"flex gap-2",children:ws.map(f=>e.jsx("button",{onClick:()=>{I(f.id),O(N=>({...N,recurring:!0}))},className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${x.recurringDays.includes(f.id)?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:f.short},f.id))}),x.recurringDays.length>0&&e.jsx("p",{className:"text-xs text-iron-500 mt-2",children:"This will create a recurring schedule. You can skip individual days or mark them complete."})]})]}),e.jsx("button",{onClick:V,disabled:y||!x.activityType||!x.duration,className:"btn-primary w-full flex items-center justify-center gap-2 py-3",children:y?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-5 h-5"}),"Save Activity"]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-iron-900 w-full sm:w-[480px] max-h-[80vh] rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800 flex items-center justify-between sticky top-0 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-lg text-iron-100",children:"Select Activity"}),e.jsx("button",{onClick:()=>M(!1),className:"p-2 text-iron-400 hover:text-iron-200",children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4",children:fs.map(f=>{const N=B[f.id]||[];return N.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-iron-400 mb-2",children:f.label}),e.jsx("div",{className:"space-y-1",children:N.map(S=>e.jsxs("button",{onClick:()=>{O(W=>({...W,activityType:S.id})),M(!1)},className:`w-full p-3 rounded-lg text-left transition-colors flex items-center justify-between ${x.activityType===S.id?"bg-flame-500/20 border border-flame-500":"bg-iron-800 hover:bg-iron-700"}`,children:[e.jsx("span",{className:"text-iron-200",children:S.label}),e.jsxs("span",{className:"text-xs text-iron-500",children:[S.met," MET"]})]},S.id))})]},f.id)})})]})})]})}const Cs=["rxMen","rxWomen","scaledMen","scaledWomen"];function re(j,T){if(!j)return null;if(T==="amrap"){const w=[];return j.rounds!=null&&w.push(`${j.rounds} rds`),j.extraReps&&w.push(`+${j.extraReps}`),w.join(" ")||null}return j.time||null}function Ee(j,T){if(!j)return null;if(T==="amrap")return(j.rounds||0)*1e3+(j.extraReps||0);if(j.dnf)return 1/0;const p=(j.time||"").split(":").map(Number);return p.length===2?p[0]*60+p[1]:p.length===3?p[0]*3600+p[1]*60+p[2]:1/0}async function Ss(j){const T=await ss(ts(ls(Oe,"users"),as(200))),w=[];return T.forEach(p=>{var $,M;const y=p.data(),F=($=y.wodStats)==null?void 0:$[j];F!=null&&F.pr&&w.push({uid:p.id,displayName:y.displayName||y.username||"Member",photoURL:y.photoURL||null,pr:F.pr,attempts:((M=F.history)==null?void 0:M.length)||1})}),w}function Rs({isOpen:j,onClose:T,onSelect:w,userWodStats:p={}}){var ae;const[y,F]=b.useState(""),[$,M]=b.useState(null),[d,z]=b.useState(null),[x,O]=b.useState("rxMen"),[B,v]=b.useState([]),[_,I]=b.useState(!1),V=b.useMemo(()=>{let r=Ne;if(y.trim()){const u=y.trim().toLowerCase();r=r.filter(L=>L.name.toLowerCase().includes(u)||L.description.toLowerCase().includes(u))}return $&&(r=r.filter(u=>u.focus.includes($))),r},[y,$]);b.useEffect(()=>{if(!d||!Oe){v([]);return}I(!0),v([]),Ss(d.id).then(r=>{const u=d.format,L=r.sort((G,q)=>{const E=Ee(G.pr,u),R=Ee(q.pr,u);return E==null&&R==null?0:E==null?1:R==null?-1:u==="amrap"?R-E:E-R});v(L)}).catch(r=>{console.warn("[WodLibraryModal] Community stats fetch failed:",r.message),v([])}).finally(()=>I(!1))},[d]);function f(r){z(r),O("rxMen")}function N(){d&&w(d,x)}function S(){F(""),M(null),z(null),v([]),T()}if(!j)return null;const W=d?p[d.id]:null;return e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-iron-950",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 pt-safe-top pt-4 pb-3 border-b border-iron-800",children:[d?e.jsx("button",{onClick:()=>z(null),className:"p-2 -ml-2 text-iron-400 hover:text-iron-200 transition-colors",children:e.jsx(gs,{className:"w-5 h-5"})}):e.jsx("button",{onClick:S,className:"p-2 -ml-2 text-iron-400 hover:text-iron-200 transition-colors",children:e.jsx(J,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-base font-bold text-iron-50",children:d?d.name:"WOD Library"}),!d&&e.jsxs("p",{className:"text-xs text-iron-500",children:[Ne.length," benchmark WODs"]})]}),d&&e.jsx("button",{onClick:N,className:"btn-primary px-4 py-2 text-sm",children:"Use This WOD"})]}),d?e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"px-4 py-5 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${Le[d.format]}`,children:[We[d.format],d.timeCap&&` Â· ${d.timeCap} min`]}),d.focus.map(r=>e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-iron-800 text-iron-400 capitalize",children:r},r))]}),e.jsx("p",{className:"text-sm text-iron-300 leading-relaxed mb-5",children:d.description}),e.jsxs("div",{className:"card-steel p-4 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ie,{className:"w-4 h-4 text-iron-500"}),e.jsx("span",{className:"text-xs font-semibold text-iron-400 uppercase tracking-wide",children:d.format==="amrap"?"Score Benchmarks":"Time Benchmarks"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Elite",value:d.targetTime.elite,color:"text-flame-400"},{label:"Intermediate",value:d.targetTime.intermediate,color:"text-yellow-400"},{label:"Beginner",value:d.targetTime.beginner,color:"text-iron-300"}].map(r=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-bold ${r.color}`,children:r.value}),e.jsx("p",{className:"text-[10px] text-iron-600 mt-0.5",children:r.label})]},r.label))})]}),W&&e.jsxs("div",{className:"card-steel p-4 mb-5 bg-flame-500/5 border-flame-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ue,{className:"w-4 h-4 text-flame-400"}),e.jsx("span",{className:"text-xs font-semibold text-flame-400 uppercase tracking-wide",children:"Your Stats"})]}),W.pr&&e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-iron-300",children:"Personal Record"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-bold text-flame-400",children:re(W.pr,d.format)}),W.pr.variant&&e.jsx("span",{className:"block text-[10px] text-iron-600",children:W.pr.variant})]})]}),((ae=W.history)==null?void 0:ae.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(vs,{className:"w-3.5 h-3.5 text-iron-500"}),e.jsx("span",{className:"text-[10px] text-iron-500 uppercase tracking-wide",children:"History"})]}),e.jsx("div",{className:"space-y-1.5",children:W.history.slice(0,5).map((r,u)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-iron-500",children:r.date}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${r.rxOrScaled==="rx"?"bg-flame-500/20 text-flame-400":"bg-iron-800 text-iron-400"}`,children:r.rxOrScaled==="rx"?"Rx":"Scaled"}),e.jsx("span",{className:"text-iron-300 font-medium",children:re(r,d.format)})]})]},u))})]})]}),e.jsxs("div",{className:"card-steel p-4 mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4 text-iron-500"}),e.jsx("span",{className:"text-xs font-semibold text-iron-400 uppercase tracking-wide",children:"Community Results"})]}),B.length>0&&e.jsxs("span",{className:"text-[10px] text-iron-600",children:[B.length," logged"]})]}),_?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx("div",{className:"w-5 h-5 border-2 border-iron-700 border-t-iron-400 rounded-full animate-spin"})}):B.length===0?e.jsxs("div",{className:"py-5 text-center",children:[e.jsx(ue,{className:"w-8 h-8 text-iron-800 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-iron-500",children:"No results yet"}),e.jsxs("p",{className:"text-xs text-iron-700 mt-1",children:["Be the first to log ",d.name,"!"]})]}):e.jsx("div",{className:"space-y-2",children:B.map((r,u)=>{var E,R;const L=re(r.pr,d.format),G=((E=r.pr)==null?void 0:E.rxOrScaled)==="rx",q=u===0?"ðŸ¥‡":u===1?"ðŸ¥ˆ":u===2?"ðŸ¥‰":null;return e.jsxs("div",{className:`flex items-center gap-3 py-1.5 ${u<B.length-1?"border-b border-iron-800/50":""}`,children:[e.jsx("div",{className:"w-6 text-center flex-shrink-0",children:q?e.jsx("span",{className:"text-sm",children:q}):e.jsx("span",{className:"text-xs text-iron-600 font-medium",children:u+1})}),r.photoURL?e.jsx("img",{src:r.photoURL,alt:"",className:"w-7 h-7 rounded-full flex-shrink-0"}):e.jsx("div",{className:"w-7 h-7 rounded-full bg-iron-800 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs text-iron-400 font-medium",children:((R=r.displayName)==null?void 0:R[0])||"?"})}),e.jsx("span",{className:"text-sm text-iron-200 font-medium flex-1 truncate",children:r.displayName}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold ${G?"bg-flame-500/20 text-flame-400":"bg-iron-800 text-iron-500"}`,children:G?"Rx":"Sc"}),e.jsx("span",{className:`text-sm font-bold ${u===0?"text-yellow-400":"text-iron-200"}`,children:L||"â€”"})]})]},r.uid)})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-iron-400 uppercase tracking-wide mb-2",children:"Select Variant"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Cs.filter(r=>d.variants[r]).map(r=>e.jsx("button",{onClick:()=>O(r),className:`px-3 py-2 rounded-lg border text-left transition-colors ${x===r?"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:e.jsx("span",{className:"text-xs font-medium",children:d.variants[r].label})},r))})]}),d.variants[x]&&e.jsxs("div",{className:"card-steel p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ys,{className:"w-4 h-4 text-iron-500"}),e.jsxs("span",{className:"text-xs font-semibold text-iron-400 uppercase tracking-wide",children:[d.variants[x].label," â€” Movements"]})]}),e.jsx("div",{className:"space-y-2",children:d.variants[x].movements.map((r,u)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-iron-200 font-medium",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 text-right",children:[r.weight&&e.jsx("span",{className:"text-xs text-iron-500",children:r.weight}),e.jsx("span",{className:"text-sm font-bold text-iron-100",children:r.reps})]})]},u))})]}),e.jsx("button",{onClick:N,className:"btn-primary w-full py-3",children:"Use This WOD"})]})}):e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-iron-800/50 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"text",value:y,onChange:r=>F(r.target.value),placeholder:"Search WODs...",className:"input-field pl-9 w-full"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[e.jsx("button",{onClick:()=>M(null),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors flex-shrink-0 ${$?"bg-iron-800/50 text-iron-400 hover:bg-iron-800":"bg-iron-700 text-iron-100"}`,children:"All"}),bs.map(r=>e.jsx("button",{onClick:()=>M($===r?null:r),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors flex-shrink-0 capitalize ${$===r?"bg-flame-500 text-white":"bg-iron-800/50 text-iron-400 hover:bg-iron-800"}`,children:r},r))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:V.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-iron-500 text-sm",children:"No WODs match your search"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:V.map(r=>{const u=p[r.id],L=u!=null&&u.pr?re(u.pr,r.format):null;return e.jsxs("button",{onClick:()=>f(r),className:"card-steel p-4 text-left hover:border-iron-600 transition-all hover:bg-iron-800/60 active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-iron-100",children:r.name}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold flex-shrink-0 ${Le[r.format]}`,children:[We[r.format],r.timeCap&&` ${r.timeCap}m`]})]}),e.jsx("p",{className:"text-xs text-iron-500 line-clamp-2 mb-3",children:r.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:r.focus.slice(0,3).map(G=>e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-iron-800 text-iron-500 capitalize",children:G},G))}),L&&e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:[e.jsx(ue,{className:"w-3 h-3 text-flame-400"}),e.jsx("span",{className:"text-[10px] font-bold text-flame-400",children:L})]})]})]},r.id)})})})]})]})}const fe={title:"Rate of Perceived Exertion (RPE)",description:"A scale from 1-10 that measures how hard a set feels, based on reps in reserve (RIR).",scale:[{value:10,label:"Max effort",description:"Could not do any more reps"},{value:9,label:"Very hard",description:"1 rep left in tank"},{value:8,label:"Hard",description:"2 reps left in tank"},{value:7,label:"Challenging",description:"3 reps left in tank"},{value:6,label:"Moderate",description:"4+ reps left in tank"},{value:5,label:"Easy",description:"Warm-up weight"}]},De=[{value:0,label:"None",color:"bg-green-500"},{value:1,label:"1",color:"bg-green-400"},{value:2,label:"2",color:"bg-lime-400"},{value:3,label:"3",color:"bg-yellow-400"},{value:4,label:"4",color:"bg-yellow-500"},{value:5,label:"5",color:"bg-orange-400"},{value:6,label:"6",color:"bg-orange-500"},{value:7,label:"7",color:"bg-red-400"},{value:8,label:"8",color:"bg-red-500"},{value:9,label:"9",color:"bg-red-600"},{value:10,label:"10",color:"bg-red-700"}],Ts=["Bench Press","Incline Bench Press","Close Grip Bench","Dumbbell Press","Overhead Press","Squat","Deadlift","Barbell Row","Pull-ups","Tricep Extension","Bicep Curl","Lateral Raise"],Ms=["Dead Hang","Plank","Wall Sit","L-Sit","Farmers Carry","Static Hold"],Ws=["Pull-ups","Push-ups","Dips","Chin-ups","Muscle-ups","Bodyweight Squats"];function Gs(){const j=Ae(),[T]=is(),{id:w}=rs(),{user:p,userProfile:y,updateProfile:F}=Fe(),$=ns(t=>t.sidebarOpen),[M,d]=b.useState(!1),[z,x]=b.useState(!!w),[O,B]=b.useState(!1),[v,_]=b.useState("strength"),[I,V]=b.useState("amrap"),[f,N]=b.useState(""),[S,W]=b.useState([{name:"",reps:""}]),[ae,r]=b.useState(!1),[u,L]=b.useState(null),[G,q]=b.useState(null),[E,R]=b.useState(null),Q=b.useRef(null),[Pe,we]=b.useState(1),ne=T.get("userId")||(p==null?void 0:p.uid),ke=T.get("userId")&&T.get("userId")!==(p==null?void 0:p.uid),P=T.get("requestId")||null,Ge=T.get("date")||null,h=!!w,oe=(y==null?void 0:y.customExercises)||{},_e=[...Ts,...oe.weight||[]],Ue=[...Ws,...oe.bodyweight||[]],qe=[...Ms,...oe.time||[]],[D,A]=b.useState({name:"",date:Ge||$e(),notes:"",exercises:[ee()]});b.useEffect(()=>{async function t(){var i,l;if(!(!w||!p))try{const s=await te.getById(w);if(s){if(s.workoutType==="cardio"){j(`/workouts/${w}`);return}A({name:s.name||"",date:ms(s.date),notes:s.notes||"",exercises:((i=s.exercises)==null?void 0:i.map(a=>{var o;return{...a,id:a.id||Date.now()+Math.random(),expanded:!0,sets:((o=a.sets)==null?void 0:o.map(c=>({...c,id:c.id||Date.now()+Math.random()})))||[se()]}}))||[ee()]});const n=((l=s.exercises)==null?void 0:l.reduce((a,o)=>o.supersetGroup!=null?Math.max(a,o.supersetGroup):a,0))||0;we(n+1)}}catch(s){console.error("Error loading workout:",s)}finally{x(!1)}}t()},[w,p]);function ee(t="weight"){return{id:Date.now(),name:"",type:t,sets:[se(t)],notes:"",expanded:!0}}function se(t="weight"){const i={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return t==="time"?{...i,prescribedTime:"",actualTime:""}:{...i,prescribedWeight:"",prescribedReps:"",actualWeight:"",actualReps:""}}const ze=()=>{A(t=>({...t,exercises:[...t.exercises,ee()]}))},Ve=()=>{const t=Pe,i={...ee(),supersetGroup:t},l={...ee(),supersetGroup:t,id:Date.now()+1};A(s=>({...s,exercises:[...s.exercises,i,l]})),we(s=>s+1)},Ce=t=>{A(i=>{const l=i.exercises.find(s=>s.id===t);return(l==null?void 0:l.supersetGroup)!=null?{...i,exercises:i.exercises.filter(s=>s.supersetGroup!==l.supersetGroup)}:{...i,exercises:i.exercises.filter(s=>s.id!==t)}})},U=(t,i)=>{A(l=>({...l,exercises:l.exercises.map(s=>s.id===t?{...s,...i}:s)}))},Se=t=>{A(i=>{const l=i.exercises.find(n=>n.id===t),s=l==null?void 0:l.supersetGroup;return{...i,exercises:i.exercises.map(n=>{if(n.id!==t&&(s==null||n.supersetGroup!==s))return n;const a=n.sets[n.sets.length-1],o=n.type||"weight";let c={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return o==="time"?c={...c,prescribedTime:(a==null?void 0:a.prescribedTime)||"",actualTime:""}:c={...c,prescribedWeight:(a==null?void 0:a.prescribedWeight)||"",prescribedReps:(a==null?void 0:a.prescribedReps)||"",actualWeight:"",actualReps:""},{...n,sets:[...n.sets,c]}})}})},ce=(t,i)=>{A(l=>{const s=l.exercises.find(o=>o.id===t),n=s==null?void 0:s.supersetGroup,a=s==null?void 0:s.sets.findIndex(o=>o.id===i);return{...l,exercises:l.exercises.map(o=>o.id===t?{...o,sets:o.sets.filter(c=>c.id!==i)}:n!=null&&o.supersetGroup===n&&a>=0?{...o,sets:o.sets.filter((c,g)=>g!==a)}:o)}})},m=(t,i,l)=>{A(s=>({...s,exercises:s.exercises.map(n=>n.id===t?{...n,sets:n.sets.map(a=>a.id===i?{...a,...l}:a)}:n)}))},de=t=>t==="time"?qe:t==="bodyweight"?Ue:_e,xe=(t,i)=>{if(!t.trim())return de(i);const l=t.toLowerCase();return de(i).filter(s=>s.toLowerCase().includes(l))},Y=(t,i)=>{U(t,{name:i}),R(null)},He=async()=>{var s;const t={weight:[],bodyweight:[],time:[]};for(const n of D.exercises){const a=(s=n.name)==null?void 0:s.trim();if(!a)continue;if(!de(n.type||"weight").some(c=>c.toLowerCase()===a.toLowerCase())){const c=n.type||"weight";t[c].includes(a)||t[c].push(a)}}const i=(y==null?void 0:y.customExercises)||{},l={weight:[...new Set([...i.weight||[],...t.weight])],bodyweight:[...new Set([...i.bodyweight||[],...t.bodyweight])],time:[...new Set([...i.time||[],...t.time])]};(t.weight.length||t.bodyweight.length||t.time.length)&&await F({customExercises:l})};if(b.useEffect(()=>{const t=i=>{Q.current&&!Q.current.contains(i.target)&&R(null)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[]),v==="cardio")return e.jsx(ks,{onBack:()=>_("strength")});const Ye=(t,i)=>{var s;const l=t.variants[i];A(n=>({...n,name:t.name})),V(t.format),N(((s=t.timeCap)==null?void 0:s.toString())||""),W(l.movements.map(n=>({name:n.name,reps:n.reps}))),L(t.id),q(i),r(!1)},X=()=>{u&&(L(null),q(null))},Xe=async()=>{if(!D.name.trim()){alert("Please enter a workout name");return}const t=S.filter(i=>i.name.trim());if(t.length===0){alert("Add at least one movement");return}d(!0);try{const i=I==="amrap"?"AMRAP":I==="fortime"?"For Time":"EMOM",l=f?` ${f} min`:"",s=t.map(g=>`${g.reps?g.reps+" ":""}${g.name}`).join(`
`),n=`${i}${l}
${s}`,a=t.map((g,k)=>({id:Date.now()+k,name:g.name,type:"bodyweight",sets:[{id:Date.now()+k+1e3,prescribedReps:g.reps||"",prescribedWeight:""}]})),o={name:D.name,date:je(D.date),notes:n,exercises:a,workoutCategory:"wod",...u&&{benchmarkWodId:u,benchmarkVariant:G}};P&&(o.trainerRequestId=P,o.trainerId=p==null?void 0:p.uid);const c=await te.create(ne,o);P&&(c!=null&&c.id)&&await Me.linkWorkout(P,c.id).catch(console.error),j(P?"/trainer":ke?"/admin":"/workouts")}catch(i){console.error("Error saving WOD:",i),alert("Failed to save WOD")}finally{d(!1)}},Ze=async()=>{if(!D.name.trim()){alert("Please enter a workout name");return}d(!0);try{await He();const t={...D,date:je(D.date)};if(P&&(t.trainerRequestId=P,t.trainerId=p==null?void 0:p.uid),h)await te.update(w,t);else{const i=await te.create(ne,t);P&&(i!=null&&i.id)&&await Me.linkWorkout(P,i.id).catch(console.error)}j(P?"/trainer":ke?"/admin":"/workouts")}catch(t){console.error("Error saving workout:",t),alert("Failed to save workout")}finally{d(!1)}};if(z)return e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(ge,{className:"w-8 h-8 text-flame-500 animate-spin"})});const Re=(t,i)=>{const l=t.type||"weight";return l==="time"?e.jsxs("div",{className:`grid gap-2 ${h?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:i.prescribedTime||"",onChange:s=>m(t.id,i.id,{prescribedTime:s.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3"})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:i.actualTime||"",onChange:s=>m(t.id,i.id,{actualTime:s.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]}):l==="bodyweight"?e.jsxs("div",{className:`grid gap-2 ${h?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:i.prescribedReps||"",onChange:s=>m(t.id,i.id,{prescribedReps:s.target.value}),onBlur:s=>m(t.id,i.id,{prescribedReps:K(s.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-sm py-2 px-3"})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:i.actualReps||"",onChange:s=>m(t.id,i.id,{actualReps:s.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]}):e.jsxs("div",{className:`grid gap-2 ${h?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:i.prescribedWeight||"",onChange:s=>m(t.id,i.id,{prescribedWeight:s.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3"}),e.jsx("span",{className:"text-iron-600 text-xs",children:"Ã—"}),e.jsx("input",{type:"text",inputMode:"numeric",value:i.prescribedReps||"",onChange:s=>m(t.id,i.id,{prescribedReps:s.target.value}),onBlur:s=>m(t.id,i.id,{prescribedReps:K(s.target.value)}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3"})]}),h&&e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:i.actualWeight||"",onChange:s=>m(t.id,i.id,{actualWeight:s.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"}),e.jsx("span",{className:"text-iron-600 text-xs",children:"Ã—"}),e.jsx("input",{type:"number",inputMode:"numeric",value:i.actualReps||"",onChange:s=>m(t.id,i.id,{actualReps:s.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]})};return e.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>j(-1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-plate transition-colors",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-display-md text-iron-50",children:h?"Edit Workout":P?"Create Trainer Workout":"New Workout"}),e.jsx("p",{className:"text-iron-400",children:h?"Update your training session":P?`Building for user ${ne.slice(0,8)}...`:"Log your training session"})]})]}),!h&&e.jsxs("div",{className:"card-steel p-2 mb-6 flex gap-2",children:[e.jsxs("button",{onClick:()=>_("strength"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${v==="strength"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(os,{className:"w-5 h-5"}),"Strength"]}),e.jsxs("button",{onClick:()=>_("wod"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${v==="wod"?"bg-yellow-500 text-black":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(pe,{className:"w-5 h-5"}),"WOD"]}),e.jsxs("button",{onClick:()=>_("cardio"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${v==="cardio"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(cs,{className:"w-5 h-5"}),"Cardio"]})]}),v==="wod"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>r(!0),className:"w-full mb-5 flex items-center justify-center gap-2 py-3 rounded-xl border border-dashed border-yellow-500/50 bg-yellow-500/5 text-yellow-400 hover:bg-yellow-500/10 hover:border-yellow-500 transition-colors text-sm font-medium",children:[e.jsx(ds,{className:"w-4 h-4"}),"Browse Popular WODs"]}),e.jsx("div",{className:"card-steel rounded-xl p-5 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"WOD Name"}),e.jsx("input",{type:"text",value:D.name,onChange:t=>{A(i=>({...i,name:t.target.value})),u&&(L(null),q(null))},placeholder:"e.g., Cindy, Fran, custom WOD",className:"input-field"}),u&&(()=>{var l;const t=Ne.find(s=>s.id===u),i=((l=t==null?void 0:t.variants[G])==null?void 0:l.label)||G;return e.jsxs("div",{className:"flex items-center gap-2 mt-2 px-3 py-1.5 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-xs",children:[e.jsx(Ns,{className:"w-3 h-3 text-yellow-400 flex-shrink-0"}),e.jsxs("span",{className:"text-yellow-300 min-w-0",children:["Logging as ",e.jsx("strong",{children:t==null?void 0:t.name})," Â· ",i]}),e.jsx("button",{type:"button",onClick:()=>{L(null),q(null)},className:"ml-auto text-iron-500 hover:text-iron-300 flex-shrink-0",children:e.jsx(J,{className:"w-3 h-3"})})]})})()]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:D.date,onChange:t=>A(i=>({...i,date:t.target.value})),className:"input-field"})]})]})}),e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-3",children:"Format"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[{value:"amrap",label:"AMRAP",desc:"As Many Rounds As Possible"},{value:"fortime",label:"For Time",desc:"Complete as fast as you can"},{value:"emom",label:"EMOM",desc:"Every Minute On the Minute"}].map(t=>e.jsxs("button",{onClick:()=>{V(t.value),X()},className:`p-3 rounded-lg border text-center transition-colors ${I===t.value?"border-yellow-500 bg-yellow-500/10 text-yellow-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsx("div",{className:"text-sm font-semibold",children:t.label}),e.jsx("div",{className:"text-[10px] text-iron-500 mt-0.5",children:t.desc})]},t.value))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:I==="amrap"?"Time Cap (minutes)":I==="emom"?"Total Minutes":"Time Cap (minutes, optional)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:f,onChange:t=>{N(t.target.value),X()},placeholder:I==="amrap"?"20":I==="emom"?"10":"15",className:"input-field w-full"})]})]}),e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-3",children:"Movements"}),e.jsx("div",{className:"space-y-2",children:S.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:t.reps,onChange:l=>{const s=[...S];s[i]={...s[i],reps:l.target.value},W(s),X()},placeholder:"10",className:"input-field w-20 text-center"}),e.jsx("input",{type:"text",value:t.name,onChange:l=>{const s=[...S];s[i]={...s[i],name:l.target.value},W(s),X()},placeholder:"e.g., Pull-ups",className:"input-field flex-1"}),S.length>1&&e.jsx("button",{onClick:()=>{W(S.filter((l,s)=>s!==i)),X()},className:"p-2 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(J,{className:"w-4 h-4"})})]},i))}),e.jsxs("button",{onClick:()=>{W([...S,{name:"",reps:""}]),X()},className:"mt-3 w-full py-2.5 border border-dashed border-iron-700 rounded-lg text-sm text-flame-400 hover:text-flame-300 hover:border-iron-600 flex items-center justify-center gap-1.5 transition-colors",children:[e.jsx(H,{className:"w-4 h-4"}),"Add Movement"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(-1),className:"btn-secondary py-3 px-6",children:"Cancel"}),e.jsx("button",{onClick:Xe,disabled:M,className:"btn-primary flex-1 py-3 flex items-center justify-center gap-2",children:M?e.jsx(ge,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-5 h-5"}),"Save WOD"]})})]})]}),v==="strength"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Workout Name"}),e.jsx("input",{type:"text",value:D.name,onChange:t=>A(i=>({...i,name:t.target.value})),placeholder:"e.g., Bench Day, Upper Body",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:D.date,onChange:t=>A(i=>({...i,date:t.target.value})),className:"input-field"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:D.notes,onChange:t=>A(i=>({...i,notes:t.target.value})),placeholder:"How did you feel? Any observations?",rows:2,className:"input-field resize-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-xl text-iron-100",children:"Exercises"}),h&&e.jsxs("button",{onClick:()=>B(!0),className:"text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(he,{className:"w-4 h-4"}),"What is RPE?"]})]}),e.jsx(le,{children:xs(D.exercises).map((t,i)=>{if(t.type==="superset"){const{exerciseA:s,exerciseB:n}=t,a=s.expanded!==!1;return e.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"card-steel rounded-xl overflow-hidden border border-purple-500/20",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-purple-500/10 text-purple-400 text-xs font-semibold",children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),"Superset"]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>{U(s.id,{expanded:!a}),U(n.id,{expanded:!a})},className:"p-2 text-iron-500 hover:text-iron-300 transition-colors",children:a?e.jsx(Te,{className:"w-5 h-5"}):e.jsx(be,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>Ce(s.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(ie,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-purple-400 bg-purple-500/10 w-5 h-5 rounded flex items-center justify-center",children:"A"}),e.jsxs("div",{className:"flex-1 relative",ref:E===s.id?Q:null,children:[e.jsx("input",{type:"text",value:s.name,onChange:o=>{U(s.id,{name:o.target.value}),R(s.id)},onFocus:()=>R(s.id),placeholder:"Search exercise A...",className:"w-full bg-transparent text-iron-100 font-medium border-none focus:outline-none placeholder:text-iron-500"}),E===s.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var k;const o=xe(s.name,s.type||"weight"),c=(k=s.name)==null?void 0:k.trim().toLowerCase(),g=o.some(C=>C.toLowerCase()===c);return e.jsxs(e.Fragment,{children:[o.map(C=>e.jsx("button",{type:"button",onMouseDown:me=>me.preventDefault(),onClick:()=>Y(s.id,C),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:C},C)),c&&!g&&e.jsxs("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>Y(s.id,s.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),' Add "',s.name.trim(),'"']})]})})()})]})]}),e.jsx("div",{className:"flex gap-2 ml-7",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:o,label:c})=>e.jsx("button",{onClick:()=>U(s.id,{type:o,sets:s.sets.map(g=>({...se(o),id:g.id,rpe:g.rpe,painLevel:g.painLevel}))}),className:`px-3 py-1 text-xs rounded-lg transition-colors ${(s.type||"weight")===o?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:c},o))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-purple-400 bg-purple-500/10 w-5 h-5 rounded flex items-center justify-center",children:"B"}),e.jsxs("div",{className:"flex-1 relative",ref:E===n.id?Q:null,children:[e.jsx("input",{type:"text",value:n.name,onChange:o=>{U(n.id,{name:o.target.value}),R(n.id)},onFocus:()=>R(n.id),placeholder:"Search exercise B...",className:"w-full bg-transparent text-iron-100 font-medium border-none focus:outline-none placeholder:text-iron-500"}),E===n.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var k;const o=xe(n.name,n.type||"weight"),c=(k=n.name)==null?void 0:k.trim().toLowerCase(),g=o.some(C=>C.toLowerCase()===c);return e.jsxs(e.Fragment,{children:[o.map(C=>e.jsx("button",{type:"button",onMouseDown:me=>me.preventDefault(),onClick:()=>Y(n.id,C),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:C},C)),c&&!g&&e.jsxs("button",{type:"button",onMouseDown:C=>C.preventDefault(),onClick:()=>Y(n.id,n.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),' Add "',n.name.trim(),'"']})]})})()})]})]}),e.jsx("div",{className:"flex gap-2 ml-7",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:o,label:c})=>e.jsx("button",{onClick:()=>U(n.id,{type:o,sets:n.sets.map(g=>({...se(o),id:g.id,rpe:g.rpe,painLevel:g.painLevel}))}),className:`px-3 py-1 text-xs rounded-lg transition-colors ${(n.type||"weight")===o?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:c},o))})]})]}),e.jsx(le,{children:a&&e.jsx(Z.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 space-y-3",children:[s.sets.map((o,c)=>{const g=n.sets[c];return g?e.jsxs("div",{className:"p-3 bg-iron-800/30 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-iron-300 font-medium text-sm",children:["Set ",c+1]}),s.sets.length>1&&e.jsx("button",{onClick:()=>ce(s.id,o.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(ie,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-purple-400 font-medium mb-1.5",children:["A â€” ",s.name||"Exercise A"]}),Re(s,o)]}),e.jsxs("div",{className:"pt-2 border-t border-iron-700/30",children:[e.jsxs("p",{className:"text-xs text-purple-400 font-medium mb-1.5",children:["B â€” ",n.name||"Exercise B"]}),Re(n,g)]}),h&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-iron-700/30",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"RPE"}),e.jsxs("select",{value:o.rpe,onChange:k=>{m(s.id,o.id,{rpe:k.target.value}),m(n.id,g.id,{rpe:k.target.value})},className:"input-field text-sm py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"â€”"}),[5,6,7,8,9,10].map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain"}),e.jsx("select",{value:o.painLevel,onChange:k=>{const C=parseInt(k.target.value);m(s.id,o.id,{painLevel:C}),m(n.id,g.id,{painLevel:C})},className:"input-field text-sm py-2 px-3 w-full",children:De.map(({value:k,label:C})=>e.jsx("option",{value:k,children:C},k))})]})]})]},o.id):null}),e.jsxs("button",{onClick:()=>Se(s.id),className:"mt-2 text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"})," Add Set"]})]})})})]},`ss-${t.supersetGroup}`)}const l=t.exercise;return e.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"card-steel rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-plate bg-flame-500/10 flex items-center justify-center text-flame-400 font-semibold text-sm",children:i+1}),e.jsxs("div",{className:"flex-1 relative",ref:E===l.id?Q:null,children:[e.jsx("input",{type:"text",value:l.name,onChange:s=>{U(l.id,{name:s.target.value}),R(l.id)},onFocus:()=>R(l.id),placeholder:"Search or type exercise...",className:`w-full bg-transparent text-iron-100 font-medium
                        border-none focus:outline-none placeholder:text-iron-500`}),E===l.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var o;const s=xe(l.name,l.type||"weight"),n=(o=l.name)==null?void 0:o.trim().toLowerCase(),a=s.some(c=>c.toLowerCase()===n);return e.jsxs(e.Fragment,{children:[s.length>0?s.map(c=>e.jsx("button",{type:"button",onMouseDown:g=>g.preventDefault(),onClick:()=>Y(l.id,c),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:c},c)):null,n&&!a&&e.jsxs("button",{type:"button",onMouseDown:c=>c.preventDefault(),onClick:()=>Y(l.id,l.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),'Add "',l.name.trim(),'"']}),!n&&s.length===0&&e.jsx("p",{className:"px-4 py-3 text-sm text-iron-500",children:"Type to search..."})]})})()})]}),e.jsx("button",{onClick:()=>U(l.id,{expanded:!l.expanded}),className:"p-2 text-iron-500 hover:text-iron-300 transition-colors",children:l.expanded?e.jsx(Te,{className:"w-5 h-5"}):e.jsx(be,{className:"w-5 h-5"})}),D.exercises.length>1&&e.jsx("button",{onClick:()=>Ce(l.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(ie,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:s,label:n})=>e.jsx("button",{onClick:()=>{U(l.id,{type:s,sets:l.sets.map(a=>({...se(s),id:a.id,rpe:a.rpe,painLevel:a.painLevel}))})},className:`px-3 py-1 text-xs rounded-lg transition-colors ${(l.type||"weight")===s?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:n},s))})]}),e.jsx(le,{children:l.expanded&&e.jsx(Z.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`hidden md:grid gap-2 mb-2 text-xs text-iron-500 uppercase tracking-wider ${h?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:"Set"}),e.jsx("div",{className:h?"col-span-3":"col-span-6",children:"Target"}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-3",children:"Actual"}),e.jsx("div",{className:"col-span-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>B(!0),className:"text-flame-400 hover:text-flame-300",children:e.jsx(he,{className:"w-3 h-3"})})]})}),e.jsx("div",{className:"col-span-2",children:"Pain"})]}),e.jsx("div",{className:"col-span-1"})]}),l.sets.map((s,n)=>e.jsxs("div",{className:"mb-4 md:mb-2",children:[e.jsxs("div",{className:"md:hidden space-y-3 p-3 bg-iron-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-iron-300 font-medium",children:["Set ",n+1]}),e.jsx("button",{onClick:()=>ce(l.id,s.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(ie,{className:"w-4 h-4"})})]}),l.type==="time"?e.jsxs("div",{className:`grid gap-3 ${h?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.prescribedTime||"",onChange:a=>m(l.id,s.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4"})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualTime||"",onChange:a=>m(l.id,s.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):l.type==="bodyweight"?e.jsxs("div",{className:`grid gap-3 ${h?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>m(l.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>m(l.id,s.id,{prescribedReps:K(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>m(l.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Weight"}),e.jsx("input",{type:"text",value:s.prescribedWeight||"",onChange:a=>m(l.id,s.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>m(l.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>m(l.id,s.id,{prescribedReps:K(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Weight"}),e.jsx("input",{type:"text",value:s.actualWeight||"",onChange:a=>m(l.id,s.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>m(l.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]})]}),h&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-iron-500 mb-1 flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>B(!0),className:"text-flame-400",children:e.jsx(he,{className:"w-3 h-3"})})]}),e.jsxs("select",{value:s.rpe,onChange:a=>m(l.id,s.id,{rpe:a.target.value}),className:"input-field text-base py-3 px-4 w-full",children:[e.jsx("option",{value:"",children:"â€”"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain Level"}),e.jsx("select",{value:s.painLevel,onChange:a=>m(l.id,s.id,{painLevel:parseInt(a.target.value)}),className:"input-field text-base py-3 px-4 w-full",children:De.map(({value:a,label:o})=>e.jsx("option",{value:a,children:o},a))})]})]})]}),e.jsxs("div",{className:`hidden md:grid gap-2 items-center ${h?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:e.jsx("span",{className:"text-iron-400 text-sm font-medium",children:n+1})}),l.type==="time"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:h?"col-span-3":"col-span-6",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.prescribedTime||"",onChange:a=>m(l.id,s.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3"})}),h&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualTime||"",onChange:a=>m(l.id,s.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):l.type==="bodyweight"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:h?"col-span-3":"col-span-6",children:e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>m(l.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>m(l.id,s.id,{prescribedReps:K(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-sm py-2 px-3"})}),h&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>m(l.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:h?"col-span-3":"col-span-6",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:s.prescribedWeight||"",onChange:a=>m(l.id,s.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3"}),e.jsx("span",{className:"text-iron-600",children:"Ã—"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>m(l.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>m(l.id,s.id,{prescribedReps:K(a.target.value)}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3"})]})}),h&&e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:s.actualWeight||"",onChange:a=>m(l.id,s.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"}),e.jsx("span",{className:"text-iron-600",children:"Ã—"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>m(l.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})})]}),h&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:s.rpe,onChange:a=>m(l.id,s.id,{rpe:a.target.value}),className:"input-field text-sm py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"â€”"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})}),h&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:s.painLevel,onChange:a=>m(l.id,s.id,{painLevel:parseInt(a.target.value)}),className:`input-field text-sm py-2 px-3 w-full ${s.painLevel>=7?"text-red-400 border-red-500/50":s.painLevel>=4?"text-yellow-400 border-yellow-500/50":"text-green-400"}`,children:[e.jsx("option",{value:"0",children:"0 - None"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3 - Mild"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5 - Moderate"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7 - High"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"}),e.jsx("option",{value:"10",children:"10 - Severe"})]})}),e.jsx("div",{className:"col-span-1 flex justify-end",children:l.sets.length>1&&e.jsx("button",{onClick:()=>ce(l.id,s.id),className:"p-1 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(J,{className:"w-4 h-4"})})})]})]},s.id)),e.jsxs("button",{onClick:()=>Se(l.id),className:"mt-2 text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"}),"Add Set"]})]})})})]},l.id)})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:ze,className:`flex-1 py-4 border-2 border-dashed border-iron-700 rounded-xl
              text-iron-400 hover:text-iron-200 hover:border-iron-600
              flex items-center justify-center gap-2 transition-colors`,children:[e.jsx(H,{className:"w-5 h-5"}),"Add Exercise"]}),e.jsxs("button",{onClick:Ve,className:`flex-1 py-4 border-2 border-dashed border-purple-500/30 rounded-xl
              text-purple-400 hover:text-purple-300 hover:border-purple-500/50
              flex items-center justify-center gap-2 transition-colors`,children:[e.jsx(pe,{className:"w-5 h-5"}),"Add Superset"]})]})]}),e.jsx("div",{className:`fixed bottom-0 right-0 p-4 bg-gradient-to-t from-iron-950 via-iron-950/95 to-transparent left-0 ${$?"lg:left-64":"lg:left-20"} transition-[left] duration-300`,children:e.jsxs("div",{className:"max-w-3xl mx-auto flex gap-3",children:[e.jsx("button",{onClick:()=>j(-1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:Ze,disabled:M,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:M?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-5 h-5"}),h?"Update Workout":"Save Workout"]})})]})})]}),e.jsx(le,{children:O&&e.jsxs(e.Fragment,{children:[e.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>B(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsxs(Z.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed inset-4 max-w-lg mx-auto my-auto max-h-[90vh] overflow-y-auto
                bg-iron-900 border border-iron-700 rounded-2xl z-50`,children:[e.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-5 border-b border-iron-800 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-xl text-iron-100",children:fe.title}),e.jsx("button",{onClick:()=>B(!1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-full",children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("p",{className:"text-iron-400 mb-6",children:fe.description}),e.jsx("div",{className:"space-y-3",children:fe.scale.map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-iron-800/50 rounded-plate",children:[e.jsx("div",{className:"w-10 h-10 rounded-plate bg-flame-500/20 flex items-center justify-center",children:e.jsx("span",{className:"font-display text-lg text-flame-400",children:t.value})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-iron-100",children:t.label}),e.jsx("p",{className:"text-sm text-iron-500",children:t.description})]})]},t.value))})]})]})]})}),e.jsx(Rs,{isOpen:ae,onClose:()=>r(!1),onSelect:Ye,userWodStats:(y==null?void 0:y.wodStats)||{}})]})}export{Gs as default};

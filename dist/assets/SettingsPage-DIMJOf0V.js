import{G as k,d as Is,ap as Ts,r as n,ag as ne,j as e,ac as ie,i as g,L as Fs,a_ as Us,C as A,t as Xe,n as w,I as re,P as $s,X as le,Z as Ke,a$ as Os,k as Ds,E as Rs,U as Gs,b0 as Je,R as Qe,b1 as Vs,aw as ce,ay as Bs,aO as qs,aG as Ms,F as Ws,b2 as zs,b3 as Ys,aX as _s,h as Hs,az as Zs,ar as Y}from"./index-1OrUyFOO.js";import{b as Xs}from"./calorieService-6-LCVeV1.js";import{C as Ks,S as Pe}from"./shield-DJWpIBCc.js";import{T as Js}from"./timer-CV6y9BmQ.js";import{S as Qs}from"./scale-Ci4R5Kkx.js";import{G as Ps}from"./globe-CtP2rlbG.js";import{L as et}from"./lock-BuovlhCZ.js";import{B as st}from"./bar-chart-3-DTgdZE3_.js";import{S as tt}from"./search-Cqz9uFVH.js";import{E as at}from"./external-link-CVgE83-U.js";import{T as nt}from"./trash-2-ugiI_USJ.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=k("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=k("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=k("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=k("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=k("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=k("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);function Ct(){var Ge,Ve,Be,qe,Me,We,ze,Ye,_e,He;const{user:r,userProfile:t,updateProfile:f,isGuest:es,isRealAdmin:xt,actingAsNormalUser:mt,setActingAsNormalUser:ht}=Is(),[L,ss]=Ts(),[oe,de]=n.useState(!1),[I,xe]=n.useState(!1),[me,ts]=n.useState((t==null?void 0:t.photoURL)||(r==null?void 0:r.photoURL)),_=n.useRef(null),[H,as]=n.useState(!1),[Z,ns]=n.useState(!1),[T,is]=n.useState(!1),[u,he]=n.useState(null),[pe,ue]=n.useState(!1),[F,rs]=n.useState(!1),[X,ls]=n.useState([]),[ge,fe]=n.useState(!1),[U,cs]=n.useState(""),[h,je]=n.useState(null),[S,K]=n.useState(""),[Ne,ye]=n.useState(!1),[$,be]=n.useState(!1),[c,O]=n.useState(null),[J,D]=n.useState(!1),[R,ve]=n.useState(!1),[Q,os]=n.useState(!1),[G,ds]=n.useState(!1),[C,V]=n.useState(null),[we,ke]=n.useState(!1),[Se,Ce]=n.useState(!1),[Ee,Ae]=n.useState(""),[x,P]=n.useState({weight:((Ge=t==null?void 0:t.customExercises)==null?void 0:Ge.weight)||[],bodyweight:((Ve=t==null?void 0:t.customExercises)==null?void 0:Ve.bodyweight)||[],time:((Be=t==null?void 0:t.customExercises)==null?void 0:Be.time)||[]}),[B,Le]=n.useState(""),[q,xs]=n.useState("weight"),[Ie,M]=n.useState(!1),[p,Te]=n.useState((t==null?void 0:t.username)||""),[ee,E]=n.useState(""),[W,z]=n.useState(null),[se,Fe]=n.useState(!1),[Ue,$e]=n.useState(!1),[N,b]=n.useState({notifications:((qe=t==null?void 0:t.settings)==null?void 0:qe.notifications)??!0,units:((Me=t==null?void 0:t.settings)==null?void 0:Me.units)||"lbs",theme:((We=t==null?void 0:t.settings)==null?void 0:We.theme)||"dark",weekStartDay:((ze=t==null?void 0:t.settings)==null?void 0:ze.weekStartDay)||"monday",isPrivate:(t==null?void 0:t.isPrivate)||!1,defaultVisibility:(t==null?void 0:t.defaultVisibility)||(t!=null&&t.isPrivate?"private":"public")}),[o,v]=n.useState({weight:(t==null?void 0:t.weight)||"",heightFeet:(t==null?void 0:t.heightFeet)||"",heightInches:(t==null?void 0:t.heightInches)||"",age:(t==null?void 0:t.age)||"",gender:(t==null?void 0:t.gender)||"",activityLevel:(t==null?void 0:t.activityLevel)||"light"});n.useEffect(()=>{var s,a,i;t&&(v({weight:t.weight||"",heightFeet:t.heightFeet||"",heightInches:t.heightInches||"",age:t.age||"",gender:t.gender||"",activityLevel:t.activityLevel||"light"}),Te(t.username||""),P({weight:((s=t.customExercises)==null?void 0:s.weight)||[],bodyweight:((a=t.customExercises)==null?void 0:a.bodyweight)||[],time:((i=t.customExercises)==null?void 0:i.time)||[]}))},[t]),n.useEffect(()=>{if(!p||p===(t==null?void 0:t.username)){E(""),z(null);return}if(!/^[a-zA-Z0-9_]{3,20}$/.test(p)){E("3-20 characters, letters, numbers, underscores only"),z(!1);return}const s=setTimeout(async()=>{Fe(!0),E("");try{const a=await ne.isUsernameAvailable(p,r==null?void 0:r.uid);z(a),a||E("Username is taken or reserved")}catch(a){console.error("Error checking username:",a)}finally{Fe(!1)}},500);return()=>clearTimeout(s)},[p,t==null?void 0:t.username,r==null?void 0:r.uid]);const ms=async()=>{if(!(!p||!W)){$e(!0);try{await ne.setUsername(r.uid,p),await f({username:p.toLowerCase()}),z(null)}catch(s){E(s.message)}finally{$e(!1)}}},hs=(s,a=200,i=.8)=>new Promise(l=>{const m=new FileReader;m.onload=d=>{const y=new Image;y.onload=()=>{const j=document.createElement("canvas"),Ze=Math.min(a/y.width,a/y.height);j.width=y.width*Ze,j.height=y.height*Ze,j.getContext("2d").drawImage(y,0,0,j.width,j.height),l(j.toDataURL("image/jpeg",i))},y.src=d.target.result},m.readAsDataURL(s)}),ps=async s=>{var i;const a=(i=s.target.files)==null?void 0:i[0];if(a){if(!a.type.startsWith("image/")){alert("Please select an image file");return}if(a.size>5*1024*1024){alert("Image must be less than 5MB");return}xe(!0);try{const l=await hs(a,200,.8);await f({photoURL:l}),ts(l)}catch(l){console.error("Error uploading photo:",l),alert("Failed to upload photo. Please try again.")}finally{xe(!1)}}},us=async s=>{const a=!N[s];b(i=>({...i,[s]:a}));try{await f({settings:{...t==null?void 0:t.settings,[s]:a}})}catch(i){console.error("Error updating setting:",i),b(l=>({...l,[s]:!a}))}},gs=async s=>{b(a=>({...a,units:s}));try{await f({settings:{...t==null?void 0:t.settings,units:s}})}catch(a){console.error("Error updating unit:",a),b(i=>{var l;return{...i,units:((l=t==null?void 0:t.settings)==null?void 0:l.units)||"lbs"}})}},fs=async s=>{b(a=>({...a,weekStartDay:s}));try{await f({settings:{...t==null?void 0:t.settings,weekStartDay:s}})}catch(a){console.error("Error updating week start:",a)}},Oe=async()=>{if(!B.trim())return;const s=B.trim();if(x[q].includes(s)){alert("This exercise already exists");return}M(!0);try{const a={...x,[q]:[...x[q],s]};P(a),await f({customExercises:a}),Le("")}catch(a){console.error("Error adding exercise:",a),alert("Failed to add exercise")}finally{M(!1)}},te=async(s,a)=>{M(!0);try{const i={...x,[s]:x[s].filter(l=>l!==a)};P(i),await f({customExercises:i})}catch(i){console.error("Error removing exercise:",i),alert("Failed to remove exercise")}finally{M(!1)}},js=async()=>{de(!0);try{const s=o.heightFeet&&o.heightInches?parseInt(o.heightFeet)*12+parseInt(o.heightInches):null;await f({weight:o.weight?parseFloat(o.weight):null,heightFeet:o.heightFeet?parseInt(o.heightFeet):null,heightInches:o.heightInches?parseInt(o.heightInches):null,height:s,age:o.age?parseInt(o.age):null,gender:o.gender||null,activityLevel:o.activityLevel||"light"})}catch(s){console.error("Error saving profile:",s),alert("Failed to save profile. Please try again.")}finally{de(!1)}},Ns=async()=>{try{await zs(Ys)}catch(s){console.error("Error signing out:",s)}},ys=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&alert("Account deletion coming soon. Contact support for now.")},De=[{key:"coach",label:"Coach",description:"Direct and knowledgeable. Clear, actionable advice.",Icon:re},{key:"drill-sergeant",label:"Drill Sergeant",description:"Tough love. Blunt feedback, holds you accountable.",Icon:Pe},{key:"bro",label:"Gym Bro",description:"Casual gym buddy energy. Encouraging, keeps it real.",Icon:Ke},{key:"scientist",label:"Sports Scientist",description:"Evidence-based. Explains the science behind the programming.",Icon:lt},{key:"comedian",label:"Trash Talk",description:"Real advice with dry wit and a sarcastic edge.",Icon:ot}],bs=async s=>{try{await f({chatPersonality:s})}catch(a){console.error("Error saving personality:",a)}},vs=async()=>{if(!(C!==null||we||!r)){ke(!0);try{const s=await ce.getApplication(r.uid);V(s||!1)}catch{V(!1)}finally{ke(!1)}}},ws=async()=>{if(r){Ce(!0);try{await ce.apply(r.uid,{displayName:(t==null?void 0:t.displayName)||"",email:r.email,notes:Ee}),V({status:"pending"}),Ae("")}catch(s){console.error("Error applying:",s),alert("Failed to submit application. Please try again.")}finally{Ce(!1)}}},ks=async()=>{if(!(u||pe||!r)){ue(!0);try{const s=await _s.getByUser(r.uid,200),a={};let i=0,l=0;const m={"generate-workout":"Workout Generation","generate-group-workout":"Group Workout","ask-assistant":"AI Chat","form-check":"Form Check"};s.forEach(d=>{const y=d.feature||"other",j=m[y]||y;a[j]||(a[j]={tokens:0,requests:0}),a[j].tokens+=d.totalTokens||0,a[j].requests+=1,i+=d.totalTokens||0,l+=1}),he({totalTokens:i,totalRequests:l,byFeature:a})}catch(s){console.error("Error loading usage:",s),he({totalTokens:0,totalRequests:0,byFeature:{},error:!0})}finally{ue(!1)}}},Ss=o.weight&&o.heightFeet&&o.age&&o.gender,Cs=async()=>{if(!(X.length>0||ge||!r)){fe(!0);try{const s=await Hs.getFriends(r.uid),a=[];for(const i of s){const l=await ne.get(i);l&&a.push({uid:i,...l})}ls(a)}catch(s){console.error("Error loading friends:",s)}finally{fe(!1)}}},Es=async()=>{const s=parseInt(S);if(!(!s||s<=0||!h)){ye(!0);try{const a=await Zs.gift(r.uid,h.uid,s);if(!a.success){alert(a.error==="insufficient_credits"?`Not enough credits. You have ${a.balance}.`:a.error);return}f({credits:a.balance}),alert(`Gifted ${s} credits to ${h.displayName||"friend"}!`),K(""),je(null)}catch(a){console.error("Gift error:",a),alert("Failed to gift credits. Please try again.")}finally{ye(!1)}}},Re=async()=>{if(r){D(!0);try{const s=await Y.getStatus(r.uid);O(s)}catch(s){console.error("Error loading Oura status:",s)}finally{D(!1)}}},As=async()=>{D(!0);try{const s=await Y.connect();window.location.href=s}catch(s){console.error("Oura connect error:",s),alert(s.message),D(!1)}},ae=async()=>{ve(!0);try{const s=await Y.sync();O(a=>({...a,connected:!0,data:s.data,lastSynced:new Date().toISOString()}))}catch(s){console.error("Oura sync error:",s),(s.message.includes("expired")||s.message.includes("reconnect"))&&O(a=>({...a,status:"expired",connected:!1})),alert(s.message)}finally{ve(!1)}},Ls=async()=>{if(confirm("Disconnect Oura Ring? Your synced data will be removed."))try{await Y.disconnect(r.uid),O({connected:!1})}catch(s){console.error("Oura disconnect error:",s)}};return n.useEffect(()=>{const s=L.get("oura");s&&(be(!0),s==="connected"&&(Re(),setTimeout(()=>ae(),500)),L.delete("oura"),L.delete("reason"),ss(L,{replace:!0}))},[]),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6 pb-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-display text-iron-100",children:"Settings"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Manage your preferences"})]}),e.jsx("div",{className:"card-steel p-5 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[me?e.jsx("img",{src:me,alt:r==null?void 0:r.displayName,className:"w-16 h-16 rounded-full object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-iron-700 flex items-center justify-center",children:e.jsx(ie,{className:"w-8 h-8 text-iron-500"})}),e.jsx("button",{onClick:()=>{var s;return(s=_.current)==null?void 0:s.click()},disabled:I,className:"absolute inset-0 w-16 h-16 rounded-full bg-black/50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:I?e.jsx(g,{className:"w-5 h-5 text-white animate-spin"}):e.jsx(Ks,{className:"w-5 h-5 text-white"})}),e.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:ps,className:"hidden"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-iron-100 truncate",children:(r==null?void 0:r.displayName)||"User"}),e.jsx("p",{className:"text-sm text-iron-500 truncate",children:r==null?void 0:r.email}),(t==null?void 0:t.username)&&e.jsxs("p",{className:"text-sm text-flame-400",children:["@",t.username]}),e.jsxs("div",{className:"flex gap-3 mt-1",children:[e.jsx("button",{onClick:()=>{var s;return(s=_.current)==null?void 0:s.click()},disabled:I,className:"text-xs text-flame-400 hover:text-flame-300",children:I?"Uploading...":"Change photo"}),e.jsx(Fs,{to:"/profile",className:"text-xs text-iron-500 hover:text-iron-300",children:"View profile →"})]})]})]})}),e.jsx(Us,{embedded:!0}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Username"}),e.jsxs("div",{className:"card-steel p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-flame-500/20 flex items-center justify-center",children:e.jsx(rt,{className:"w-5 h-5 text-flame-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Profile URL"}),e.jsxs("p",{className:"text-sm text-iron-500",children:["benchpressonly.com/profile/",p||"your-username"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-iron-500",children:"@"}),e.jsx("input",{type:"text",value:p,onChange:s=>Te(s.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"username",maxLength:20,className:"input-field w-full pl-8"}),se&&e.jsx(g,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500 animate-spin"}),!se&&W===!0&&p!==(t==null?void 0:t.username)&&e.jsx(A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-400"}),!se&&W===!1&&e.jsx(it,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-red-400"})]}),e.jsx("button",{onClick:ms,disabled:!W||Ue||p===(t==null?void 0:t.username),className:"btn-primary px-4 disabled:opacity-50",children:Ue?e.jsx(g,{className:"w-4 h-4 animate-spin"}):"Save"})]}),ee&&e.jsx("p",{className:"text-xs text-red-400 mt-2",children:ee}),!ee&&p&&p!==(t==null?void 0:t.username)&&e.jsx("p",{className:"text-xs text-iron-500 mt-2",children:"3-20 characters, letters, numbers, and underscores only"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Body Profile"}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>as(!H),className:"w-full p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Calorie Tracking Profile"}),e.jsx("p",{className:"text-sm text-iron-500",children:Ss?"Profile complete":"Set up for calorie estimates"})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${H?"rotate-180":""}`})]}),H&&e.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-iron-800 pt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1 block",children:"Weight (lbs)"}),e.jsx("input",{type:"number",value:o.weight,onChange:s=>v(a=>({...a,weight:s.target.value})),placeholder:"170",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1 block",children:"Height"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"number",value:o.heightFeet,onChange:s=>v(a=>({...a,heightFeet:s.target.value})),placeholder:"5",className:"input-field w-full"}),e.jsx("span",{className:"text-xs text-iron-500 mt-1 block",children:"feet"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"number",value:o.heightInches,onChange:s=>v(a=>({...a,heightInches:s.target.value})),placeholder:"10",className:"input-field w-full"}),e.jsx("span",{className:"text-xs text-iron-500 mt-1 block",children:"inches"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1 block",children:"Age"}),e.jsx("input",{type:"number",value:o.age,onChange:s=>v(a=>({...a,age:s.target.value})),placeholder:"30",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1 block",children:"Gender"}),e.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(s=>e.jsx("button",{onClick:()=>v(a=>({...a,gender:s})),className:`flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-colors capitalize ${o.gender===s?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1 block",children:"Daily Activity (excluding workouts)"}),e.jsx("p",{className:"text-xs text-iron-600 mb-2",children:"How active is your day-to-day life outside of exercise?"}),e.jsx("div",{className:"space-y-2",children:Object.entries(Xs).map(([s,a])=>e.jsxs("button",{onClick:()=>v(i=>({...i,activityLevel:s})),className:`w-full p-3 rounded-lg text-left transition-colors ${o.activityLevel===s?"bg-flame-500/20 border border-flame-500":"bg-iron-800 border border-iron-700 hover:border-iron-600"}`,children:[e.jsx("p",{className:`font-medium text-sm ${o.activityLevel===s?"text-flame-400":"text-iron-200"}`,children:a.label}),e.jsx("p",{className:"text-xs text-iron-500",children:a.description})]},s))})]}),e.jsx("button",{onClick:js,disabled:oe,className:"btn-primary w-full flex items-center justify-center gap-2",children:oe?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4"}),"Save Profile"]})}),e.jsx("p",{className:"text-xs text-iron-500 text-center",children:"This info is used to estimate calories burned. All fields are optional."})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Custom Exercises"}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>ns(!Z),className:"w-full p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-flame-500/20 flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 text-flame-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Manage Exercises"}),e.jsxs("p",{className:"text-sm text-iron-500",children:[x.weight.length+x.bodyweight.length+x.time.length||"No"," custom exercises added"]})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${Z?"rotate-180":""}`})]}),Z&&e.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-iron-800 pt-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm text-iron-400 block",children:"Add New Exercise"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:q,onChange:s=>xs(s.target.value),className:"input-field w-32",children:[e.jsx("option",{value:"weight",children:"Weight"}),e.jsx("option",{value:"bodyweight",children:"Bodyweight"}),e.jsx("option",{value:"time",children:"Time"})]}),e.jsx("input",{type:"text",value:B,onChange:s=>Le(s.target.value),onKeyDown:s=>s.key==="Enter"&&Oe(),placeholder:"Exercise name",className:"input-field flex-1"}),e.jsx("button",{onClick:Oe,disabled:!B.trim()||Ie,className:"btn-primary px-4 disabled:opacity-50",children:Ie?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx($s,{className:"w-4 h-4"})})]})]}),x.weight.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-iron-500 mb-2 block flex items-center gap-2",children:[e.jsx(re,{className:"w-3 h-3"})," Weight Exercises"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.weight.map(s=>e.jsxs("div",{className:"flex items-center gap-1 bg-iron-800 rounded-lg px-3 py-1.5",children:[e.jsx("span",{className:"text-sm text-iron-200",children:s}),e.jsx("button",{onClick:()=>te("weight",s),className:"p-1 text-iron-500 hover:text-red-400 transition-colors",children:e.jsx(le,{className:"w-3 h-3"})})]},s))})]}),x.bodyweight.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-iron-500 mb-2 block flex items-center gap-2",children:[e.jsx(ie,{className:"w-3 h-3"})," Bodyweight Exercises"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.bodyweight.map(s=>e.jsxs("div",{className:"flex items-center gap-1 bg-iron-800 rounded-lg px-3 py-1.5",children:[e.jsx("span",{className:"text-sm text-iron-200",children:s}),e.jsx("button",{onClick:()=>te("bodyweight",s),className:"p-1 text-iron-500 hover:text-red-400 transition-colors",children:e.jsx(le,{className:"w-3 h-3"})})]},s))})]}),x.time.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-iron-500 mb-2 block flex items-center gap-2",children:[e.jsx(Js,{className:"w-3 h-3"})," Time-Based Exercises"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.time.map(s=>e.jsxs("div",{className:"flex items-center gap-1 bg-iron-800 rounded-lg px-3 py-1.5",children:[e.jsx("span",{className:"text-sm text-iron-200",children:s}),e.jsx("button",{onClick:()=>te("time",s),className:"p-1 text-iron-500 hover:text-red-400 transition-colors",children:e.jsx(le,{className:"w-3 h-3"})})]},s))})]}),x.weight.length===0&&x.bodyweight.length===0&&x.time.length===0&&e.jsx("p",{className:"text-sm text-iron-500 text-center py-4",children:"No custom exercises added yet. Add your favorites above!"}),e.jsx("p",{className:"text-xs text-iron-500 text-center",children:"Custom exercises will appear in autocomplete when creating workouts"})]})]})]}),!es&&e.jsxs("div",{className:"card-steel p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-flame-500/20 flex items-center justify-center",children:e.jsx(Ke,{className:"w-5 h-5 text-flame-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-iron-200",children:"AI Credits"}),e.jsx("p",{className:"text-xs text-iron-500",children:"Used for AI chat & workout generation"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-display text-iron-100",children:(t==null?void 0:t.credits)??0}),e.jsx("p",{className:"text-xs text-iron-500",children:"remaining"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-iron-500 bg-iron-800/30 rounded-lg px-3 py-2",children:[e.jsx("span",{children:"Chat = 1 cr"}),e.jsx("span",{className:"text-iron-700",children:"·"}),e.jsx("span",{children:"Workout = 5 cr"}),e.jsx("span",{className:"text-iron-700",children:"·"}),e.jsx("span",{children:"Group = 5 cr/athlete"}),e.jsx("span",{className:"text-iron-700",children:"·"}),e.jsx("span",{children:"Program = 10 cr"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Preferences"}),e.jsxs("button",{onClick:()=>us("notifications"),className:"card-steel p-4 w-full flex items-center gap-4 hover:border-iron-600 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(Os,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Notifications"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Workout reminders & updates"})]}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-colors ${N.notifications?"bg-flame-500":"bg-iron-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-1 transition-transform ${N.notifications?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"card-steel p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(Qs,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Weight Units"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Display weights in"})]})]}),e.jsx("div",{className:"flex gap-2",children:["lbs","kg"].map(s=>e.jsx("button",{onClick:()=>gs(s),className:`flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-colors ${N.units===s?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:s.toUpperCase()},s))})]}),e.jsxs("div",{className:"card-steel p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:e.jsx(Ds,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Week Starts On"}),e.jsx("p",{className:"text-sm text-iron-500",children:"For calorie tracking reset"})]})]}),e.jsx("div",{className:"flex gap-2",children:["sunday","monday"].map(s=>e.jsx("button",{onClick:()=>fs(s),className:`flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-colors capitalize ${N.weekStartDay===s?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:s},s))})]}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-iron-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:e.jsx(Rs,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Default Visibility"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Who can see your activity in the feed"})]})]})}),e.jsx("div",{className:"p-2",children:[{key:"public",label:"Public",desc:"Everyone can see your activity",Icon:Ps},{key:"friends",label:"Friends",desc:"Only friends see your activity",Icon:Gs},{key:"private",label:"Private",desc:"Your activity is hidden from the feed",Icon:et}].map(s=>e.jsxs("button",{onClick:async()=>{const a=s.key;b(i=>({...i,defaultVisibility:a,isPrivate:a==="private"}));try{await f({defaultVisibility:a,isPrivate:a==="private"})}catch(i){console.error("Error updating visibility:",i),b(l=>({...l,defaultVisibility:N.defaultVisibility}))}},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${N.defaultVisibility===s.key?"bg-flame-500/10 border border-flame-500/30":"hover:bg-iron-800/50"}`,children:[e.jsx(s.Icon,{className:`w-5 h-5 ${N.defaultVisibility===s.key?"text-flame-400":"text-iron-500"}`}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${N.defaultVisibility===s.key?"text-flame-400":"text-iron-200"}`,children:s.label}),e.jsx("p",{className:"text-xs text-iron-500",children:s.desc})]}),N.defaultVisibility===s.key&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-flame-500 flex items-center justify-center",children:e.jsx(A,{className:"w-3 h-3 text-white"})})]},s.key))})]}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>{is(!T),T||ks()},className:"w-full p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:e.jsx(st,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"AI Usage"}),e.jsx("p",{className:"text-sm text-iron-500",children:"View your token usage"})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${T?"rotate-180":""}`})]}),T&&e.jsx("div",{className:"px-4 pb-4 border-t border-iron-800 pt-4",children:pe?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(g,{className:"w-5 h-5 text-flame-500 animate-spin"})}):u?e.jsx("div",{className:"space-y-4",children:u.error?e.jsx("p",{className:"text-sm text-iron-500 text-center py-2",children:"Usage data requires a Firestore index. Check the browser console for a link to create it."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 bg-iron-800/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xl font-display text-iron-100",children:u.totalRequests}),e.jsx("p",{className:"text-xs text-iron-500",children:"Requests"})]}),e.jsxs("div",{className:"flex-1 bg-iron-800/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xl font-display text-iron-100",children:u.totalTokens>=1e6?`${(u.totalTokens/1e6).toFixed(1)}M`:u.totalTokens>=1e3?`${(u.totalTokens/1e3).toFixed(1)}k`:u.totalTokens}),e.jsx("p",{className:"text-xs text-iron-500",children:"Total Tokens"})]})]}),Object.keys(u.byFeature).length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-iron-500 font-medium uppercase tracking-wider",children:"By Feature"}),Object.entries(u.byFeature).sort((s,a)=>a[1].tokens-s[1].tokens).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[e.jsx("span",{className:"text-sm text-iron-300",children:s}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm text-iron-200 font-medium",children:a.tokens>=1e3?`${(a.tokens/1e3).toFixed(1)}k`:a.tokens}),e.jsxs("span",{className:"text-xs text-iron-500 ml-2",children:["(",a.requests," reqs)"]})]})]},s))]}),u.totalRequests===0&&!u.error&&e.jsx("p",{className:"text-sm text-iron-500 text-center py-2",children:"No AI usage yet"})]})}):null})]}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>{rs(!F),F||Cs()},className:"w-full p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Gift Credits"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Send credits to a friend"})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${F?"rotate-180":""}`})]}),F&&e.jsxs("div",{className:"px-4 pb-4 border-t border-iron-800 pt-4",children:[e.jsxs("p",{className:"text-xs text-iron-500 mb-3",children:["Your balance: ",(t==null?void 0:t.credits)??0," credits"]}),ge?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(g,{className:"w-5 h-5 text-flame-500 animate-spin"})}):X.length===0?e.jsx("p",{className:"text-sm text-iron-500 text-center py-4",children:"Add friends to gift them credits"}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"text",value:U,onChange:s=>cs(s.target.value),placeholder:"Search friends...",className:"input-field w-full pl-9 text-sm"})]}),e.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:X.filter(s=>!U||(s.displayName||"").toLowerCase().includes(U.toLowerCase())||(s.username||"").toLowerCase().includes(U.toLowerCase())).map(s=>e.jsxs("button",{onClick:()=>je((h==null?void 0:h.uid)===s.uid?null:s),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors ${(h==null?void 0:h.uid)===s.uid?"bg-purple-500/10 border border-purple-500/30":"hover:bg-iron-800/50"}`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-iron-800 flex items-center justify-center flex-shrink-0",children:s.photoURL?e.jsx("img",{src:s.photoURL,alt:"",className:"w-8 h-8 rounded-full"}):e.jsx(ie,{className:"w-4 h-4 text-iron-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-iron-200 truncate",children:s.displayName||"User"}),s.username&&e.jsxs("p",{className:"text-xs text-iron-500",children:["@",s.username]})]}),(h==null?void 0:h.uid)===s.uid&&e.jsx(A,{className:"w-4 h-4 text-purple-400 flex-shrink-0"})]},s.uid))}),h&&e.jsxs("div",{className:"pt-2 border-t border-iron-800",children:[e.jsxs("p",{className:"text-xs text-iron-400 mb-2",children:["Sending to ",e.jsx("span",{className:"text-purple-400",children:h.displayName||"friend"})]}),e.jsx("div",{className:"flex gap-2 mb-2",children:[10,25,50,100].map(s=>e.jsx("button",{onClick:()=>K(String(s)),className:`flex-1 py-1.5 rounded-lg text-xs font-medium transition-colors ${S===String(s)?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:s},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:S,onChange:s=>K(s.target.value),placeholder:"Custom amount",min:"1",className:"input-field flex-1 text-sm"}),e.jsxs("button",{onClick:Es,disabled:Ne||!S||parseInt(S)<=0,className:"btn-primary text-sm px-4 flex items-center gap-2",children:[Ne?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(Je,{className:"w-4 h-4"}),"Send"]})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Integrations"}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>{be(!$),!$&&!c&&Re()},className:"w-full p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-teal-500/20 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-teal-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Oura Ring"}),e.jsx("p",{className:"text-sm text-iron-500",children:c!=null&&c.connected?"Connected":"Sleep, readiness & recovery data"})]}),(c==null?void 0:c.connected)&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-teal-500/20 text-teal-400",children:"Active"}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${$?"rotate-180":""}`})]}),$&&e.jsx("div",{className:"px-4 pb-4 border-t border-iron-800 pt-4",children:J?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(g,{className:"w-5 h-5 text-teal-500 animate-spin"})}):c!=null&&c.connected?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-iron-500",children:c.lastSynced?`Last synced: ${new Date((Ye=c.lastSynced)!=null&&Ye.toDate?c.lastSynced.toDate():c.lastSynced).toLocaleString()}`:"Not synced yet"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:ae,disabled:R,className:"flex items-center gap-1 text-xs text-teal-400 hover:text-teal-300",children:[e.jsx(Qe,{className:`w-3.5 h-3.5 ${R?"animate-spin":""}`}),"Sync"]}),e.jsxs("button",{onClick:Ls,className:"flex items-center gap-1 text-xs text-red-400 hover:text-red-300",children:[e.jsx(dt,{className:"w-3.5 h-3.5"}),"Disconnect"]})]})]}),c.data&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const s=c.data.sleep,a=c.data.readiness,i=c.data.activity,l=s!=null&&s.length?s[s.length-1]:null,m=a!=null&&a.length?a[a.length-1]:null,d=i!=null&&i.length?i[i.length-1]:null;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-iron-500 mb-1",children:"Sleep"}),e.jsx("p",{className:`text-2xl font-bold ${((l==null?void 0:l.score)||0)>=85?"text-green-400":((l==null?void 0:l.score)||0)>=70?"text-yellow-400":"text-red-400"}`,children:(l==null?void 0:l.score)||"—"}),e.jsx("p",{className:"text-xs text-iron-600 mt-1",children:(l==null?void 0:l.day)||""})]}),e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-iron-500 mb-1",children:"Readiness"}),e.jsx("p",{className:`text-2xl font-bold ${((m==null?void 0:m.score)||0)>=85?"text-green-400":((m==null?void 0:m.score)||0)>=70?"text-yellow-400":"text-red-400"}`,children:(m==null?void 0:m.score)||"—"}),e.jsx("p",{className:"text-xs text-iron-600 mt-1",children:(m==null?void 0:m.day)||""})]}),e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-iron-500 mb-1",children:"Activity"}),e.jsx("p",{className:`text-2xl font-bold ${((d==null?void 0:d.score)||0)>=85?"text-green-400":((d==null?void 0:d.score)||0)>=70?"text-yellow-400":"text-red-400"}`,children:(d==null?void 0:d.score)||"—"}),e.jsx("p",{className:"text-xs text-iron-600 mt-1",children:(d==null?void 0:d.day)||""})]})]})})()}),((_e=c.data.readiness)==null?void 0:_e.length)>1&&e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-iron-500 mb-2",children:"7-Day Readiness"}),e.jsx("div",{className:"flex items-end gap-1 h-12",children:c.data.readiness.map((s,a)=>e.jsx("div",{className:"flex-1 flex flex-col items-center gap-1",children:e.jsx("div",{className:`w-full rounded-sm transition-all ${(s.score||0)>=85?"bg-green-500":(s.score||0)>=70?"bg-yellow-500":"bg-red-500"}`,style:{height:`${Math.max(4,(s.score||0)/100*48)}px`}})},a))}),e.jsx("div",{className:"flex gap-1 mt-1",children:c.data.readiness.map((s,a)=>{var i;return e.jsx("div",{className:"flex-1 text-center",children:e.jsx("span",{className:"text-[9px] text-iron-600",children:((i=s.day)==null?void 0:i.slice(5))||""})},a)})})]}),e.jsx("p",{className:"text-xs text-iron-600",children:"This data is automatically included when generating workouts to optimize intensity and recovery."})]}),!c.data&&e.jsx("div",{className:"text-center py-2",children:e.jsxs("button",{onClick:ae,disabled:R,className:"btn-primary text-sm px-4 flex items-center gap-2 mx-auto",children:[R?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(Qe,{className:"w-4 h-4"}),"Sync Data"]})})]}):e.jsxs("div",{className:"text-center py-4",children:[(c==null?void 0:c.status)==="expired"&&e.jsx("p",{className:"text-sm text-amber-400 mb-3",children:"Your Oura connection expired. Please reconnect."}),e.jsx("p",{className:"text-sm text-iron-400 mb-4",children:"Connect your Oura Ring to include sleep scores, readiness, and recovery data in your AI-generated workouts."}),e.jsxs("button",{onClick:As,disabled:J,className:"btn-primary text-sm px-6 flex items-center gap-2 mx-auto",children:[J?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(ct,{className:"w-4 h-4"}),"Connect Oura Ring"]})]})})]})]}),e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"AI Coach"}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>os(!Q),className:"p-4 w-full flex items-center gap-4 hover:bg-iron-800/30 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(Vs,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Coach Personality"}),e.jsx("p",{className:"text-sm text-iron-500",children:((He=De.find(s=>s.key===((t==null?void 0:t.chatPersonality)||"coach")))==null?void 0:He.label)||"Coach"})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${Q?"rotate-180":""}`})]}),Q&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:De.map(s=>{const a=((t==null?void 0:t.chatPersonality)||"coach")===s.key;return e.jsxs("button",{onClick:()=>bs(s.key),className:`w-full text-left p-3 rounded-lg border transition-colors ${a?"bg-flame-500/10 border-flame-500/30":"bg-iron-800/30 border-iron-700/50 hover:border-iron-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(s.Icon,{className:`w-4 h-4 ${a?"text-flame-400":"text-iron-400"}`}),e.jsx("span",{className:`text-sm font-medium ${a?"text-flame-400":"text-iron-200"}`,children:s.label}),a&&e.jsx(A,{className:"w-3.5 h-3.5 text-flame-400 ml-auto"})]}),e.jsx("p",{className:"text-xs text-iron-500 ml-6",children:s.description})]},s.key)})})]})]}),!ce.isTrainer(t,r==null?void 0:r.email)&&e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Trainer Program"}),e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("button",{onClick:()=>{ds(!G),G||vs()},className:"p-4 w-full flex items-center gap-4 hover:bg-iron-800/30 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(Bs,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Become a Trainer"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Create workouts for other users"})]}),e.jsx(w,{className:`w-5 h-5 text-iron-500 transition-transform ${G?"rotate-180":""}`})]}),G&&e.jsx("div",{className:"px-4 pb-4",children:we?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-iron-500 py-4",children:[e.jsx(g,{className:"w-4 h-4 animate-spin"}),"Checking application status..."]}):C&&C.status==="pending"?e.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-300 font-medium",children:"Application Pending"}),e.jsx("p",{className:"text-xs text-iron-500 mt-1",children:"Your application is being reviewed. You'll be notified when it's approved."})]}):C&&C.status==="denied"?e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-300 font-medium",children:"Application Not Approved"}),e.jsx("p",{className:"text-xs text-iron-500 mt-1",children:"Your application wasn't approved at this time. You can apply again."}),e.jsx("button",{onClick:()=>V(!1),className:"mt-2 text-xs text-flame-400 hover:text-flame-300",children:"Apply Again"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-iron-400",children:"Trainers can create custom workouts and review workout plans for users who request help. Apply below and an admin will review your application."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-iron-400 mb-1.5",children:"Why do you want to be a trainer? (optional)"}),e.jsx("textarea",{value:Ee,onChange:s=>Ae(s.target.value),placeholder:"Experience, certifications, or why you'd be a good fit...",rows:3,className:"input-field w-full resize-none text-sm"})]}),e.jsxs("button",{onClick:ws,disabled:Se,className:"btn-primary w-full py-2.5 text-sm flex items-center justify-center gap-2",children:[Se?e.jsx(g,{className:"w-4 h-4 animate-spin"}):null,"Submit Application"]})]})})]})]}),!window.matchMedia("(display-mode: standalone)").matches&&e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Install"}),e.jsxs("div",{className:"card-steel p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-flame-500/20 flex items-center justify-center",children:e.jsx(qs,{className:"w-5 h-5 text-flame-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Add to Home Screen"}),e.jsx("p",{className:"text-sm text-iron-500",children:/iPad|iPhone|iPod/.test(navigator.userAgent)?'Tap the Share button → "Add to Home Screen"':"Install as an app for the best experience"})]})]})]}),e.jsxs("div",{className:"space-y-3 mt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-400 px-1",children:"Account"}),e.jsxs("a",{href:"https://benchpressonly.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"card-steel p-4 flex items-center gap-4 hover:border-iron-600 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-iron-800 flex items-center justify-center",children:e.jsx(Pe,{className:"w-5 h-5 text-iron-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-medium text-iron-200",children:"Privacy Policy"})}),e.jsx(at,{className:"w-4 h-4 text-iron-500"})]}),e.jsxs("button",{onClick:Ns,className:"card-steel p-4 w-full flex items-center gap-4 hover:border-iron-600 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-iron-800 flex items-center justify-center",children:e.jsx(Ms,{className:"w-5 h-5 text-iron-400"})}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx("p",{className:"font-medium text-iron-200",children:"Sign Out"})}),e.jsx(Ws,{className:"w-5 h-5 text-iron-600"})]}),e.jsxs("button",{onClick:ys,className:"card-steel p-4 w-full flex items-center gap-4 hover:border-red-500/20 transition-colors group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center",children:e.jsx(nt,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-red-400",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Permanently remove your data"})]})]})]}),e.jsxs("div",{className:"mt-12 text-center text-sm text-iron-600",children:[e.jsx("p",{children:"Bench Only v1.3.0"}),e.jsx("p",{className:"mt-1",children:"Made for serious lifters"})]})]})}export{Ct as default};

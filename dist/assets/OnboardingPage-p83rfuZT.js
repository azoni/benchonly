const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BpGUo1il.js","assets/index-BAW7rKOA.css"])))=>i.map(i=>d[i]);
import{G as _,b as O,d as D,r,j as e,o as E,m as Y,F as w,i as $,C as M,_ as U,S as Z,Z as y,I as k,K as S,k as C,ac as z}from"./index-BpGUo1il.js";import{C as H}from"./chevron-left-D7ChpuGs.js";import{S as V}from"./scale-DHm1grPJ.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=_("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),n=[{id:"welcome",title:"Welcome"},{id:"profile",title:"Your Stats"},{id:"focus",title:"Training Focus"},{id:"goal",title:"First Goal"},{id:"ready",title:"Ready"}],K=[{id:"bench-pr",label:"Bench Press PR",desc:"Chasing a new max"},{id:"strength",label:"General Strength",desc:"Get stronger all around"},{id:"hypertrophy",label:"Hypertrophy",desc:"Build muscle mass"},{id:"powerlifting",label:"Powerlifting",desc:"Compete in the big 3"},{id:"fitness",label:"General Fitness",desc:"Stay healthy and active"},{id:"rehab",label:"Rehab / Return",desc:"Coming back from injury"}],J=["Bench Press","Squat","Deadlift","Overhead Press","Incline Bench","Close Grip Bench","Barbell Row","Pull-ups"];function te(){const g=O(),{user:c,updateProfile:I}=D(),[i,p]=r.useState(0),[f,j]=r.useState(!1),[N,b]=r.useState(1),F=new URLSearchParams(window.location.search).has("preview"),[a,o]=r.useState({weight:"",heightFeet:"",heightInches:"",age:"",gender:""}),[d,W]=r.useState([]),[l,m]=r.useState({lift:"Bench Press",currentWeight:"",targetWeight:""}),[h,v]=r.useState(!1),P=()=>{b(1),p(t=>Math.min(t+1,n.length-1))},G=()=>{b(-1),p(t=>Math.max(t-1,0))},T=()=>{switch(n[i].id){case"welcome":return!0;case"profile":return a.weight&&a.heightFeet&&a.age;case"focus":return d.length>0;case"goal":return h||l.currentWeight&&l.targetWeight;case"ready":return!0;default:return!0}},A=async()=>{if(F){g("/today",{replace:!0});return}j(!0);try{const t=a.heightFeet&&a.heightInches?parseInt(a.heightFeet)*12+parseInt(a.heightInches||0):null,s={weight:a.weight?parseFloat(a.weight):null,heightFeet:a.heightFeet?parseInt(a.heightFeet):null,heightInches:a.heightInches?parseInt(a.heightInches):null,height:t,age:a.age?parseInt(a.age):null,gender:a.gender||null,trainingFocus:d,onboardingComplete:!0,credits:50};if(await I(s),!h&&l.currentWeight&&l.targetWeight){const{goalService:x}=await U(async()=>{const{goalService:u}=await import("./index-BpGUo1il.js").then(L=>L.bf);return{goalService:u}},__vite__mapDeps([0,1]));await x.create(c.uid,{lift:l.lift,startWeight:parseFloat(l.currentWeight),currentWeight:parseFloat(l.currentWeight),targetWeight:parseFloat(l.targetWeight),targetDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],status:"active"})}g("/today",{replace:!0})}catch(t){console.error("Onboarding error:",t),alert("Something went wrong. Please try again.")}finally{j(!1)}},R={enter:t=>({x:t>0?80:-80,opacity:0}),center:{x:0,opacity:1},exit:t=>({x:t>0?-80:80,opacity:0})},B=()=>{switch(n[i].id){case"welcome":return e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-flame-500/20 rounded-2xl flex items-center justify-center mx-auto",children:e.jsx(k,{className:"w-10 h-10 text-flame-400"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display text-iron-100",children:["Welcome",c!=null&&c.displayName?`, ${c.displayName.split(" ")[0]}`:""]}),e.jsx("p",{className:"text-iron-400 mt-3 max-w-sm mx-auto",children:"Let's get you set up. This takes about 30 seconds and helps the AI build better workouts for you."})]}),e.jsxs("div",{className:"flex flex-col gap-3 max-w-xs mx-auto pt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(z,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"Your stats for personalized weight calculations"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(S,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"Your training focus and first goal"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-flame-500/10 flex items-center justify-center flex-shrink-0",children:e.jsx(y,{className:"w-4 h-4 text-flame-400"})}),e.jsx("span",{className:"text-sm text-iron-300",children:"50 free AI credits to get started"})]})]})]});case"profile":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Your Stats"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Used for workout calculations and calorie estimates"})]}),e.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Body Weight (lbs)"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.weight,onChange:t=>o(s=>({...s,weight:t.target.value})),placeholder:"170",className:"input-field w-full pl-10",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Height"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.heightFeet,onChange:t=>o(s=>({...s,heightFeet:t.target.value})),placeholder:"5",className:"input-field w-full pl-10"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-iron-500",children:"ft"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"number",value:a.heightInches,onChange:t=>o(s=>({...s,heightInches:t.target.value})),placeholder:"10",className:"input-field w-full"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-iron-500",children:"in"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-iron-500"}),e.jsx("input",{type:"number",value:a.age,onChange:t=>o(s=>({...s,age:t.target.value})),placeholder:"25",className:"input-field w-full pl-10"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Gender"}),e.jsx("div",{className:"flex gap-1.5",children:["male","female"].map(t=>e.jsx("button",{onClick:()=>o(s=>({...s,gender:t})),className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors capitalize ${a.gender===t?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:t},t))})]})]})]})]});case"focus":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Training Focus"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Select all that apply — helps the AI tailor workouts"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-sm mx-auto",children:K.map(t=>{const s=d.includes(t.id);return e.jsxs("button",{onClick:()=>{W(x=>s?x.filter(u=>u!==t.id):[...x,t.id])},className:`p-3 rounded-xl border text-left transition-all ${s?"border-flame-500 bg-flame-500/10":"border-iron-700 bg-iron-800/50 hover:border-iron-600"}`,children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-flame-300":"text-iron-200"}`,children:t.label}),e.jsx("p",{className:"text-xs text-iron-500 mt-0.5",children:t.desc})]},t.id)})})]});case"goal":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-display text-iron-100",children:"Set a Goal"}),e.jsx("p",{className:"text-iron-500 text-sm mt-1",children:"Something to work toward — you can always change it"})]}),h?e.jsxs("div",{className:"text-center py-8 max-w-sm mx-auto",children:[e.jsx("p",{className:"text-iron-400",children:"No worries — you can set goals anytime from the Goals page."}),e.jsx("button",{onClick:()=>v(!1),className:"text-flame-400 text-sm mt-3 hover:text-flame-300",children:"Actually, let me set one →"})]}):e.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Lift"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:J.slice(0,6).map(t=>e.jsx("button",{onClick:()=>m(s=>({...s,lift:t})),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l.lift===t?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:t},t))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Current (lbs)"}),e.jsx("input",{type:"number",value:l.currentWeight,onChange:t=>m(s=>({...s,currentWeight:t.target.value})),placeholder:"225",className:"input-field w-full"})]}),e.jsx("div",{className:"flex items-end pb-2.5",children:e.jsx(w,{className:"w-5 h-5 text-iron-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Target (lbs)"}),e.jsx("input",{type:"number",value:l.targetWeight,onChange:t=>m(s=>({...s,targetWeight:t.target.value})),placeholder:"315",className:"input-field w-full"})]})]}),e.jsx("p",{className:"text-xs text-iron-500 text-center",children:"Target date auto-set to 90 days from now"}),e.jsx("button",{onClick:()=>v(!0),className:"text-iron-500 text-sm w-full text-center hover:text-iron-300 pt-2",children:"Skip for now"})]})]});case"ready":return e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-2xl flex items-center justify-center mx-auto",children:e.jsx(Z,{className:"w-10 h-10 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display text-iron-100",children:"You're All Set"}),e.jsxs("p",{className:"text-iron-400 mt-3 max-w-xs mx-auto",children:["You've got ",e.jsx("span",{className:"text-flame-400 font-semibold",children:"50 free credits"})," to generate AI workouts and chat with your training assistant."]})]}),e.jsxs("div",{className:"max-w-xs mx-auto space-y-2 text-left",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-iron-800/50 rounded-lg p-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-flame-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(y,{className:"w-3 h-3 text-flame-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-iron-300",children:"AI Chat"})}),e.jsx("span",{className:"text-xs text-iron-500",children:"1 credit / msg"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-iron-800/50 rounded-lg p-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-3 h-3 text-blue-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-iron-300",children:"Workout Generation"})}),e.jsx("span",{className:"text-xs text-iron-500",children:"5 credits"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-iron-800/50 rounded-lg p-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(S,{className:"w-3 h-3 text-cyan-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-iron-300",children:"Group Workout"})}),e.jsx("span",{className:"text-xs text-iron-500",children:"5 credits / athlete"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-iron-800/50 rounded-lg p-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-3 h-3 text-amber-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-iron-300",children:"Training Program"})}),e.jsx("span",{className:"text-xs text-iron-500",children:"10 credits"})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-iron-950 flex flex-col",children:[e.jsxs("div",{className:"px-6 pt-6 pb-2",children:[e.jsx("div",{className:"flex gap-1.5 max-w-sm mx-auto",children:n.map((t,s)=>e.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors duration-300 ${s<=i?"bg-flame-500":"bg-iron-800"}`},t.id))}),e.jsxs("p",{className:"text-center text-xs text-iron-600 mt-2",children:[i+1," of ",n.length]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-8",children:e.jsx(E,{mode:"wait",custom:N,children:e.jsx(Y.div,{custom:N,variants:R,initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:"easeInOut"},className:"w-full max-w-md",children:B()},i)})}),e.jsx("div",{className:"px-6 pb-8 pt-4",children:e.jsxs("div",{className:"flex gap-3 max-w-sm mx-auto",children:[i>0&&e.jsxs("button",{onClick:G,className:`px-4 py-3 rounded-xl bg-iron-800 text-iron-300 
                hover:bg-iron-700 transition-colors flex items-center gap-1`,children:[e.jsx(H,{className:"w-4 h-4"}),"Back"]}),i<n.length-1?e.jsxs("button",{onClick:P,disabled:!T(),className:`flex-1 py-3 rounded-xl bg-flame-500 text-white font-medium
                hover:bg-flame-400 disabled:opacity-40 disabled:cursor-not-allowed
                transition-colors flex items-center justify-center gap-2`,children:["Continue",e.jsx(w,{className:"w-4 h-4"})]}):e.jsx("button",{onClick:A,disabled:f,className:`flex-1 py-3 rounded-xl bg-flame-500 text-white font-medium
                hover:bg-flame-400 disabled:opacity-50 transition-colors
                flex items-center justify-center gap-2`,children:f?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 animate-spin"}),"Setting up..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"}),"Let's Go"]})})]})})]})}export{te as default};

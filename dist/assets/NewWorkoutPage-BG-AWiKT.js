import{b as je,d as Ne,r as v,aq as ye,j as e,A as we,n as oe,M as Ae,aA as Fe,i as ce,X,aB as de,a3 as H,aC as Be,ap as Pe,a as Ie,e as $e,I as Oe,Z as le,t as Ge,P as B,o as Y,p as qe,m as O,l as be,aD as G,an as _e,ax as fe}from"./index-1OrUyFOO.js";import{g as ze,A as He,c as Ue,a as Ye}from"./calorieService-6-LCVeV1.js";import{C as Ve}from"./clock-B1Hjd9qX.js";import{S as me}from"./save-CBFloZ2_.js";import{I as re}from"./info-x9g-HWsJ.js";import{T as V}from"./trash-2-ugiI_USJ.js";const Xe=[{id:"sunday",short:"Sun",full:"Sunday"},{id:"monday",short:"Mon",full:"Monday"},{id:"tuesday",short:"Tue",full:"Tuesday"},{id:"wednesday",short:"Wed",full:"Wednesday"},{id:"thursday",short:"Thu",full:"Thursday"},{id:"friday",short:"Fri",full:"Friday"},{id:"saturday",short:"Sat",full:"Saturday"}];function Ze({onBack:E}){const L=je(),{user:C,userProfile:b}=Ne(),[S,U]=v.useState(!1),[Z,M]=v.useState(!1),[A,K]=v.useState(!1),[d,R]=v.useState({date:ye(),activityType:"",duration:"",distance:"",notes:"",recurring:!1,recurringDays:[]}),F=ze(),f=He[d.activityType],D=d.activityType&&d.duration?Ue(d.activityType,parseInt(d.duration),b==null?void 0:b.weight):0,T=x=>{R(g=>({...g,recurringDays:g.recurringDays.includes(x)?g.recurringDays.filter(j=>j!==x):[...g.recurringDays,x]}))},J=async()=>{if(!d.activityType){alert("Please select an activity");return}if(!d.duration){alert("Please enter duration");return}U(!0);try{const x={workoutType:"cardio",name:(f==null?void 0:f.label)||"Cardio",date:de(d.date),activityType:d.activityType,duration:parseInt(d.duration),distance:d.distance?parseFloat(d.distance):null,estimatedCalories:D,notes:d.notes};await H.create(C.uid,x),d.recurring&&d.recurringDays.length>0&&await Be.create(C.uid,{type:"recurring",name:(f==null?void 0:f.label)||"Cardio",days:d.recurringDays,activityType:d.activityType,duration:parseInt(d.duration),distance:d.distance?parseFloat(d.distance):null,workoutType:"cardio"}),L("/workouts")}catch(x){console.error("Error saving cardio:",x),alert("Failed to save activity")}finally{U(!1)}};return e.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:E,className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-lg transition-colors",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl text-iron-50",children:"Log Cardio"}),e.jsx("p",{className:"text-iron-400 text-sm",children:"Track your cardio activity"})]})]}),e.jsx("div",{className:"card-steel p-5 mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:d.date,onChange:x=>R(g=>({...g,date:x.target.value})),className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Activity Type"}),e.jsxs("button",{onClick:()=>M(!0),className:"input-field w-full text-left flex items-center justify-between",children:[e.jsx("span",{className:f?"text-iron-100":"text-iron-500",children:(f==null?void 0:f.label)||"Select..."}),e.jsx(oe,{className:"w-4 h-4 text-iron-500"})]})]})]})}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:[e.jsx(Ve,{className:"w-4 h-4 inline mr-1"}),"Duration (minutes)"]}),e.jsx("input",{type:"number",value:d.duration,onChange:x=>R(g=>({...g,duration:x.target.value})),placeholder:"30",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Distance (optional)"}),e.jsx("input",{type:"number",step:"0.1",value:d.distance,onChange:x=>R(g=>({...g,distance:x.target.value})),placeholder:"3.5 mi",className:"input-field w-full"})]})]}),D>0&&e.jsxs("div",{className:"mt-4 p-3 bg-flame-500/10 rounded-lg flex items-center gap-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-flame-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-iron-300",children:"Estimated calories burned"}),e.jsxs("p",{className:"text-xl font-display text-flame-400",children:[D," cal"]})]})]})]}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:d.notes,onChange:x=>R(g=>({...g,notes:x.target.value})),placeholder:"How did it feel? Any details...",rows:2,className:"input-field w-full resize-none"})]}),e.jsxs("div",{className:"card-steel p-5 mb-6",children:[e.jsxs("button",{onClick:()=>K(!A),className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Make this recurring"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Auto-schedule weekly"})]})]}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-colors ${d.recurring?"bg-flame-500":"bg-iron-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-1 transition-transform ${d.recurring?"translate-x-6":"translate-x-1"}`})})]}),A&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-iron-800",children:[e.jsx("p",{className:"text-sm text-iron-400 mb-3",children:"Repeat on these days:"}),e.jsx("div",{className:"flex gap-2",children:Xe.map(x=>e.jsx("button",{onClick:()=>{T(x.id),R(g=>({...g,recurring:!0}))},className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${d.recurringDays.includes(x.id)?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:x.short},x.id))}),d.recurringDays.length>0&&e.jsx("p",{className:"text-xs text-iron-500 mt-2",children:"This will create a recurring schedule. You can skip individual days or mark them complete."})]})]}),e.jsx("button",{onClick:J,disabled:S||!d.activityType||!d.duration,className:"btn-primary w-full flex items-center justify-center gap-2 py-3",children:S?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-5 h-5"}),"Save Activity"]})}),Z&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-iron-900 w-full sm:w-[480px] max-h-[80vh] rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800 flex items-center justify-between sticky top-0 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-lg text-iron-100",children:"Select Activity"}),e.jsx("button",{onClick:()=>M(!1),className:"p-2 text-iron-400 hover:text-iron-200",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4",children:Ye.map(x=>{const g=F[x.id]||[];return g.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-iron-400 mb-2",children:x.label}),e.jsx("div",{className:"space-y-1",children:g.map(j=>e.jsxs("button",{onClick:()=>{R(P=>({...P,activityType:j.id})),M(!1)},className:`w-full p-3 rounded-lg text-left transition-colors flex items-center justify-between ${d.activityType===j.id?"bg-flame-500/20 border border-flame-500":"bg-iron-800 hover:bg-iron-700"}`,children:[e.jsx("span",{className:"text-iron-200",children:j.label}),e.jsxs("span",{className:"text-xs text-iron-500",children:[j.met," MET"]})]},j.id))})]},x.id)})})]})})]})}const ne={title:"Rate of Perceived Exertion (RPE)",description:"A scale from 1-10 that measures how hard a set feels, based on reps in reserve (RIR).",scale:[{value:10,label:"Max effort",description:"Could not do any more reps"},{value:9,label:"Very hard",description:"1 rep left in tank"},{value:8,label:"Hard",description:"2 reps left in tank"},{value:7,label:"Challenging",description:"3 reps left in tank"},{value:6,label:"Moderate",description:"4+ reps left in tank"},{value:5,label:"Easy",description:"Warm-up weight"}]},ve=[{value:0,label:"None",color:"bg-green-500"},{value:1,label:"1",color:"bg-green-400"},{value:2,label:"2",color:"bg-lime-400"},{value:3,label:"3",color:"bg-yellow-400"},{value:4,label:"4",color:"bg-yellow-500"},{value:5,label:"5",color:"bg-orange-400"},{value:6,label:"6",color:"bg-orange-500"},{value:7,label:"7",color:"bg-red-400"},{value:8,label:"8",color:"bg-red-500"},{value:9,label:"9",color:"bg-red-600"},{value:10,label:"10",color:"bg-red-700"}],Ke=["Bench Press","Incline Bench Press","Close Grip Bench","Dumbbell Press","Overhead Press","Squat","Deadlift","Barbell Row","Pull-ups","Tricep Extension","Bicep Curl","Lateral Raise"],Je=["Dead Hang","Plank","Wall Sit","L-Sit","Farmers Carry","Static Hold"],Qe=["Pull-ups","Push-ups","Dips","Chin-ups","Muscle-ups","Bodyweight Squats"];function rt(){const E=je(),[L]=Pe(),{id:C}=Ie(),{user:b,userProfile:S,updateProfile:U}=Ne(),Z=$e(s=>s.sidebarOpen),[M,A]=v.useState(!1),[K,d]=v.useState(!!C),[R,F]=v.useState(!1),[f,D]=v.useState("strength"),[T,J]=v.useState("amrap"),[x,g]=v.useState(""),[j,P]=v.useState([{name:"",reps:""}]),[I,W]=v.useState(null),q=v.useRef(null),[Ce,xe]=v.useState(1),Q=L.get("userId")||(b==null?void 0:b.uid),ue=L.get("userId")&&L.get("userId")!==(b==null?void 0:b.uid),w=L.get("requestId")||null,ke=L.get("date")||null,m=!!C,ee=(S==null?void 0:S.customExercises)||{},Se=[...Ke,...ee.weight||[]],Re=[...Qe,...ee.bodyweight||[]],Te=[...Je,...ee.time||[]],[N,y]=v.useState({name:"",date:ke||ye(),notes:"",exercises:[_()]});v.useEffect(()=>{async function s(){var l,i;if(!(!C||!b))try{const t=await H.getById(C);if(t){if(t.workoutType==="cardio"){E(`/workouts/${C}`);return}y({name:t.name||"",date:_e(t.date),notes:t.notes||"",exercises:((l=t.exercises)==null?void 0:l.map(a=>{var n;return{...a,id:a.id||Date.now()+Math.random(),expanded:!0,sets:((n=a.sets)==null?void 0:n.map(o=>({...o,id:o.id||Date.now()+Math.random()})))||[z()]}}))||[_()]});const r=((i=t.exercises)==null?void 0:i.reduce((a,n)=>n.supersetGroup!=null?Math.max(a,n.supersetGroup):a,0))||0;xe(r+1)}}catch(t){console.error("Error loading workout:",t)}finally{d(!1)}}s()},[C,b]);function _(s="weight"){return{id:Date.now(),name:"",type:s,sets:[z(s)],notes:"",expanded:!0}}function z(s="weight"){const l={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return s==="time"?{...l,prescribedTime:"",actualTime:""}:{...l,prescribedWeight:"",prescribedReps:"",actualWeight:"",actualReps:""}}const Ee=()=>{y(s=>({...s,exercises:[...s.exercises,_()]}))},Me=()=>{const s=Ce,l={..._(),supersetGroup:s},i={..._(),supersetGroup:s,id:Date.now()+1};y(t=>({...t,exercises:[...t.exercises,l,i]})),xe(t=>t+1)},pe=s=>{y(l=>{const i=l.exercises.find(t=>t.id===s);return(i==null?void 0:i.supersetGroup)!=null?{...l,exercises:l.exercises.filter(t=>t.supersetGroup!==i.supersetGroup)}:{...l,exercises:l.exercises.filter(t=>t.id!==s)}})},k=(s,l)=>{y(i=>({...i,exercises:i.exercises.map(t=>t.id===s?{...t,...l}:t)}))},he=s=>{y(l=>{const i=l.exercises.find(r=>r.id===s),t=i==null?void 0:i.supersetGroup;return{...l,exercises:l.exercises.map(r=>{if(r.id!==s&&(t==null||r.supersetGroup!==t))return r;const a=r.sets[r.sets.length-1],n=r.type||"weight";let o={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return n==="time"?o={...o,prescribedTime:(a==null?void 0:a.prescribedTime)||"",actualTime:""}:o={...o,prescribedWeight:(a==null?void 0:a.prescribedWeight)||"",prescribedReps:(a==null?void 0:a.prescribedReps)||"",actualWeight:"",actualReps:""},{...r,sets:[...r.sets,o]}})}})},te=(s,l)=>{y(i=>{const t=i.exercises.find(n=>n.id===s),r=t==null?void 0:t.supersetGroup,a=t==null?void 0:t.sets.findIndex(n=>n.id===l);return{...i,exercises:i.exercises.map(n=>n.id===s?{...n,sets:n.sets.filter(o=>o.id!==l)}:r!=null&&n.supersetGroup===r&&a>=0?{...n,sets:n.sets.filter((o,u)=>u!==a)}:n)}})},c=(s,l,i)=>{y(t=>({...t,exercises:t.exercises.map(r=>r.id===s?{...r,sets:r.sets.map(a=>a.id===l?{...a,...i}:a)}:r)}))},se=s=>s==="time"?Te:s==="bodyweight"?Re:Se,ae=(s,l)=>{if(!s.trim())return se(l);const i=s.toLowerCase();return se(l).filter(t=>t.toLowerCase().includes(i))},$=(s,l)=>{k(s,{name:l}),W(null)},De=async()=>{var t;const s={weight:[],bodyweight:[],time:[]};for(const r of N.exercises){const a=(t=r.name)==null?void 0:t.trim();if(!a)continue;if(!se(r.type||"weight").some(o=>o.toLowerCase()===a.toLowerCase())){const o=r.type||"weight";s[o].includes(a)||s[o].push(a)}}const l=(S==null?void 0:S.customExercises)||{},i={weight:[...new Set([...l.weight||[],...s.weight])],bodyweight:[...new Set([...l.bodyweight||[],...s.bodyweight])],time:[...new Set([...l.time||[],...s.time])]};(s.weight.length||s.bodyweight.length||s.time.length)&&await U({customExercises:i})};if(v.useEffect(()=>{const s=l=>{q.current&&!q.current.contains(l.target)&&W(null)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[]),f==="cardio")return e.jsx(Ze,{onBack:()=>D("strength")});const We=async()=>{if(!N.name.trim()){alert("Please enter a workout name");return}const s=j.filter(l=>l.name.trim());if(s.length===0){alert("Add at least one movement");return}A(!0);try{const l=T==="amrap"?"AMRAP":T==="fortime"?"For Time":"EMOM",i=x?` ${x} min`:"",t=s.map(u=>`${u.reps?u.reps+" ":""}${u.name}`).join(`
`),r=`${l}${i}
${t}`,a=s.map((u,p)=>({id:Date.now()+p,name:u.name,type:"bodyweight",sets:[{id:Date.now()+p+1e3,prescribedReps:u.reps||"",prescribedWeight:""}]})),n={name:N.name,date:de(N.date),notes:r,exercises:a,workoutCategory:"wod"};w&&(n.trainerRequestId=w,n.trainerId=b==null?void 0:b.uid);const o=await H.create(Q,n);w&&(o!=null&&o.id)&&await fe.linkWorkout(w,o.id).catch(console.error),E(w?"/trainer":ue?"/admin":"/workouts")}catch(l){console.error("Error saving WOD:",l),alert("Failed to save WOD")}finally{A(!1)}},Le=async()=>{if(!N.name.trim()){alert("Please enter a workout name");return}A(!0);try{await De();const s={...N,date:de(N.date)};if(w&&(s.trainerRequestId=w,s.trainerId=b==null?void 0:b.uid),m)await H.update(C,s);else{const l=await H.create(Q,s);w&&(l!=null&&l.id)&&await fe.linkWorkout(w,l.id).catch(console.error)}E(w?"/trainer":ue?"/admin":"/workouts")}catch(s){console.error("Error saving workout:",s),alert("Failed to save workout")}finally{A(!1)}};if(K)return e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(ce,{className:"w-8 h-8 text-flame-500 animate-spin"})});const ge=(s,l)=>{const i=s.type||"weight";return i==="time"?e.jsxs("div",{className:`grid gap-2 ${m?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:l.prescribedTime||"",onChange:t=>c(s.id,l.id,{prescribedTime:t.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3"})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:l.actualTime||"",onChange:t=>c(s.id,l.id,{actualTime:t.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]}):i==="bodyweight"?e.jsxs("div",{className:`grid gap-2 ${m?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:l.prescribedReps||"",onChange:t=>c(s.id,l.id,{prescribedReps:t.target.value}),onBlur:t=>c(s.id,l.id,{prescribedReps:G(t.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-sm py-2 px-3"})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:l.actualReps||"",onChange:t=>c(s.id,l.id,{actualReps:t.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]}):e.jsxs("div",{className:`grid gap-2 ${m?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:l.prescribedWeight||"",onChange:t=>c(s.id,l.id,{prescribedWeight:t.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3"}),e.jsx("span",{className:"text-iron-600 text-xs",children:"×"}),e.jsx("input",{type:"text",inputMode:"numeric",value:l.prescribedReps||"",onChange:t=>c(s.id,l.id,{prescribedReps:t.target.value}),onBlur:t=>c(s.id,l.id,{prescribedReps:G(t.target.value)}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3"})]}),m&&e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:l.actualWeight||"",onChange:t=>c(s.id,l.id,{actualWeight:t.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"}),e.jsx("span",{className:"text-iron-600 text-xs",children:"×"}),e.jsx("input",{type:"number",inputMode:"numeric",value:l.actualReps||"",onChange:t=>c(s.id,l.id,{actualReps:t.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})]})};return e.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>E(-1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-plate transition-colors",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-display-md text-iron-50",children:m?"Edit Workout":w?"Create Trainer Workout":"New Workout"}),e.jsx("p",{className:"text-iron-400",children:m?"Update your training session":w?`Building for user ${Q.slice(0,8)}...`:"Log your training session"})]})]}),!m&&e.jsxs("div",{className:"card-steel p-2 mb-6 flex gap-2",children:[e.jsxs("button",{onClick:()=>D("strength"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${f==="strength"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(Oe,{className:"w-5 h-5"}),"Strength"]}),e.jsxs("button",{onClick:()=>D("wod"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${f==="wod"?"bg-yellow-500 text-black":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(le,{className:"w-5 h-5"}),"WOD"]}),e.jsxs("button",{onClick:()=>D("cardio"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${f==="cardio"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(Ge,{className:"w-5 h-5"}),"Cardio"]})]}),f==="wod"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card-steel rounded-xl p-5 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"WOD Name"}),e.jsx("input",{type:"text",value:N.name,onChange:s=>y(l=>({...l,name:s.target.value})),placeholder:"e.g., Cindy, Fran, custom WOD",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:N.date,onChange:s=>y(l=>({...l,date:s.target.value})),className:"input-field"})]})]})}),e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-3",children:"Format"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[{value:"amrap",label:"AMRAP",desc:"As Many Rounds As Possible"},{value:"fortime",label:"For Time",desc:"Complete as fast as you can"},{value:"emom",label:"EMOM",desc:"Every Minute On the Minute"}].map(s=>e.jsxs("button",{onClick:()=>J(s.value),className:`p-3 rounded-lg border text-center transition-colors ${T===s.value?"border-yellow-500 bg-yellow-500/10 text-yellow-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsx("div",{className:"text-sm font-semibold",children:s.label}),e.jsx("div",{className:"text-[10px] text-iron-500 mt-0.5",children:s.desc})]},s.value))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:T==="amrap"?"Time Cap (minutes)":T==="emom"?"Total Minutes":"Time Cap (minutes, optional)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:x,onChange:s=>g(s.target.value),placeholder:T==="amrap"?"20":T==="emom"?"10":"15",className:"input-field w-full"})]})]}),e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-3",children:"Movements"}),e.jsx("div",{className:"space-y-2",children:j.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:s.reps,onChange:i=>{const t=[...j];t[l]={...t[l],reps:i.target.value},P(t)},placeholder:"10",className:"input-field w-20 text-center"}),e.jsx("input",{type:"text",value:s.name,onChange:i=>{const t=[...j];t[l]={...t[l],name:i.target.value},P(t)},placeholder:"e.g., Pull-ups",className:"input-field flex-1"}),j.length>1&&e.jsx("button",{onClick:()=>P(j.filter((i,t)=>t!==l)),className:"p-2 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]},l))}),e.jsxs("button",{onClick:()=>P([...j,{name:"",reps:""}]),className:"mt-3 w-full py-2.5 border border-dashed border-iron-700 rounded-lg text-sm text-flame-400 hover:text-flame-300 hover:border-iron-600 flex items-center justify-center gap-1.5 transition-colors",children:[e.jsx(B,{className:"w-4 h-4"}),"Add Movement"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>E(-1),className:"btn-secondary py-3 px-6",children:"Cancel"}),e.jsx("button",{onClick:We,disabled:M,className:"btn-primary flex-1 py-3 flex items-center justify-center gap-2",children:M?e.jsx(ce,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-5 h-5"}),"Save WOD"]})})]})]}),f==="strength"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Workout Name"}),e.jsx("input",{type:"text",value:N.name,onChange:s=>y(l=>({...l,name:s.target.value})),placeholder:"e.g., Bench Day, Upper Body",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:N.date,onChange:s=>y(l=>({...l,date:s.target.value})),className:"input-field"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:N.notes,onChange:s=>y(l=>({...l,notes:s.target.value})),placeholder:"How did you feel? Any observations?",rows:2,className:"input-field resize-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-xl text-iron-100",children:"Exercises"}),m&&e.jsxs("button",{onClick:()=>F(!0),className:"text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(re,{className:"w-4 h-4"}),"What is RPE?"]})]}),e.jsx(Y,{children:qe(N.exercises).map((s,l)=>{if(s.type==="superset"){const{exerciseA:t,exerciseB:r}=s,a=t.expanded!==!1;return e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"card-steel rounded-xl overflow-hidden border border-purple-500/20",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-purple-500/10 text-purple-400 text-xs font-semibold",children:[e.jsx(le,{className:"w-3.5 h-3.5"}),"Superset"]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>{k(t.id,{expanded:!a}),k(r.id,{expanded:!a})},className:"p-2 text-iron-500 hover:text-iron-300 transition-colors",children:a?e.jsx(be,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>pe(t.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-purple-400 bg-purple-500/10 w-5 h-5 rounded flex items-center justify-center",children:"A"}),e.jsxs("div",{className:"flex-1 relative",ref:I===t.id?q:null,children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>{k(t.id,{name:n.target.value}),W(t.id)},onFocus:()=>W(t.id),placeholder:"Search exercise A...",className:"w-full bg-transparent text-iron-100 font-medium border-none focus:outline-none placeholder:text-iron-500"}),I===t.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var p;const n=ae(t.name,t.type||"weight"),o=(p=t.name)==null?void 0:p.trim().toLowerCase(),u=n.some(h=>h.toLowerCase()===o);return e.jsxs(e.Fragment,{children:[n.map(h=>e.jsx("button",{type:"button",onMouseDown:ie=>ie.preventDefault(),onClick:()=>$(t.id,h),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:h},h)),o&&!u&&e.jsxs("button",{type:"button",onMouseDown:h=>h.preventDefault(),onClick:()=>$(t.id,t.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),' Add "',t.name.trim(),'"']})]})})()})]})]}),e.jsx("div",{className:"flex gap-2 ml-7",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:n,label:o})=>e.jsx("button",{onClick:()=>k(t.id,{type:n,sets:t.sets.map(u=>({...z(n),id:u.id,rpe:u.rpe,painLevel:u.painLevel}))}),className:`px-3 py-1 text-xs rounded-lg transition-colors ${(t.type||"weight")===n?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:o},n))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-purple-400 bg-purple-500/10 w-5 h-5 rounded flex items-center justify-center",children:"B"}),e.jsxs("div",{className:"flex-1 relative",ref:I===r.id?q:null,children:[e.jsx("input",{type:"text",value:r.name,onChange:n=>{k(r.id,{name:n.target.value}),W(r.id)},onFocus:()=>W(r.id),placeholder:"Search exercise B...",className:"w-full bg-transparent text-iron-100 font-medium border-none focus:outline-none placeholder:text-iron-500"}),I===r.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var p;const n=ae(r.name,r.type||"weight"),o=(p=r.name)==null?void 0:p.trim().toLowerCase(),u=n.some(h=>h.toLowerCase()===o);return e.jsxs(e.Fragment,{children:[n.map(h=>e.jsx("button",{type:"button",onMouseDown:ie=>ie.preventDefault(),onClick:()=>$(r.id,h),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:h},h)),o&&!u&&e.jsxs("button",{type:"button",onMouseDown:h=>h.preventDefault(),onClick:()=>$(r.id,r.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),' Add "',r.name.trim(),'"']})]})})()})]})]}),e.jsx("div",{className:"flex gap-2 ml-7",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:n,label:o})=>e.jsx("button",{onClick:()=>k(r.id,{type:n,sets:r.sets.map(u=>({...z(n),id:u.id,rpe:u.rpe,painLevel:u.painLevel}))}),className:`px-3 py-1 text-xs rounded-lg transition-colors ${(r.type||"weight")===n?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:o},n))})]})]}),e.jsx(Y,{children:a&&e.jsx(O.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 space-y-3",children:[t.sets.map((n,o)=>{const u=r.sets[o];return u?e.jsxs("div",{className:"p-3 bg-iron-800/30 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-iron-300 font-medium text-sm",children:["Set ",o+1]}),t.sets.length>1&&e.jsx("button",{onClick:()=>te(t.id,n.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(V,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-purple-400 font-medium mb-1.5",children:["A — ",t.name||"Exercise A"]}),ge(t,n)]}),e.jsxs("div",{className:"pt-2 border-t border-iron-700/30",children:[e.jsxs("p",{className:"text-xs text-purple-400 font-medium mb-1.5",children:["B — ",r.name||"Exercise B"]}),ge(r,u)]}),m&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-iron-700/30",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"RPE"}),e.jsxs("select",{value:n.rpe,onChange:p=>{c(t.id,n.id,{rpe:p.target.value}),c(r.id,u.id,{rpe:p.target.value})},className:"input-field text-sm py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"—"}),[5,6,7,8,9,10].map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain"}),e.jsx("select",{value:n.painLevel,onChange:p=>{const h=parseInt(p.target.value);c(t.id,n.id,{painLevel:h}),c(r.id,u.id,{painLevel:h})},className:"input-field text-sm py-2 px-3 w-full",children:ve.map(({value:p,label:h})=>e.jsx("option",{value:p,children:h},p))})]})]})]},n.id):null}),e.jsxs("button",{onClick:()=>he(t.id),className:"mt-2 text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"})," Add Set"]})]})})})]},`ss-${s.supersetGroup}`)}const i=s.exercise;return e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"card-steel rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-plate bg-flame-500/10 flex items-center justify-center text-flame-400 font-semibold text-sm",children:l+1}),e.jsxs("div",{className:"flex-1 relative",ref:I===i.id?q:null,children:[e.jsx("input",{type:"text",value:i.name,onChange:t=>{k(i.id,{name:t.target.value}),W(i.id)},onFocus:()=>W(i.id),placeholder:"Search or type exercise...",className:`w-full bg-transparent text-iron-100 font-medium
                        border-none focus:outline-none placeholder:text-iron-500`}),I===i.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var n;const t=ae(i.name,i.type||"weight"),r=(n=i.name)==null?void 0:n.trim().toLowerCase(),a=t.some(o=>o.toLowerCase()===r);return e.jsxs(e.Fragment,{children:[t.length>0?t.map(o=>e.jsx("button",{type:"button",onMouseDown:u=>u.preventDefault(),onClick:()=>$(i.id,o),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:o},o)):null,r&&!a&&e.jsxs("button",{type:"button",onMouseDown:o=>o.preventDefault(),onClick:()=>$(i.id,i.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),'Add "',i.name.trim(),'"']}),!r&&t.length===0&&e.jsx("p",{className:"px-4 py-3 text-sm text-iron-500",children:"Type to search..."})]})})()})]}),e.jsx("button",{onClick:()=>k(i.id,{expanded:!i.expanded}),className:"p-2 text-iron-500 hover:text-iron-300 transition-colors",children:i.expanded?e.jsx(be,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})}),N.exercises.length>1&&e.jsx("button",{onClick:()=>pe(i.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:t,label:r})=>e.jsx("button",{onClick:()=>{k(i.id,{type:t,sets:i.sets.map(a=>({...z(t),id:a.id,rpe:a.rpe,painLevel:a.painLevel}))})},className:`px-3 py-1 text-xs rounded-lg transition-colors ${(i.type||"weight")===t?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:r},t))})]}),e.jsx(Y,{children:i.expanded&&e.jsx(O.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`hidden md:grid gap-2 mb-2 text-xs text-iron-500 uppercase tracking-wider ${m?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:"Set"}),e.jsx("div",{className:m?"col-span-3":"col-span-6",children:"Target"}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-3",children:"Actual"}),e.jsx("div",{className:"col-span-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>F(!0),className:"text-flame-400 hover:text-flame-300",children:e.jsx(re,{className:"w-3 h-3"})})]})}),e.jsx("div",{className:"col-span-2",children:"Pain"})]}),e.jsx("div",{className:"col-span-1"})]}),i.sets.map((t,r)=>e.jsxs("div",{className:"mb-4 md:mb-2",children:[e.jsxs("div",{className:"md:hidden space-y-3 p-3 bg-iron-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-iron-300 font-medium",children:["Set ",r+1]}),e.jsx("button",{onClick:()=>te(i.id,t.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(V,{className:"w-4 h-4"})})]}),i.type==="time"?e.jsxs("div",{className:`grid gap-3 ${m?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:t.prescribedTime||"",onChange:a=>c(i.id,t.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4"})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualTime||"",onChange:a=>c(i.id,t.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):i.type==="bodyweight"?e.jsxs("div",{className:`grid gap-3 ${m?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:t.prescribedReps||"",onChange:a=>c(i.id,t.id,{prescribedReps:a.target.value}),onBlur:a=>c(i.id,t.id,{prescribedReps:G(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualReps||"",onChange:a=>c(i.id,t.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Weight"}),e.jsx("input",{type:"text",value:t.prescribedWeight||"",onChange:a=>c(i.id,t.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:t.prescribedReps||"",onChange:a=>c(i.id,t.id,{prescribedReps:a.target.value}),onBlur:a=>c(i.id,t.id,{prescribedReps:G(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Weight"}),e.jsx("input",{type:"text",value:t.actualWeight||"",onChange:a=>c(i.id,t.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualReps||"",onChange:a=>c(i.id,t.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-iron-500 mb-1 flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>F(!0),className:"text-flame-400",children:e.jsx(re,{className:"w-3 h-3"})})]}),e.jsxs("select",{value:t.rpe,onChange:a=>c(i.id,t.id,{rpe:a.target.value}),className:"input-field text-base py-3 px-4 w-full",children:[e.jsx("option",{value:"",children:"—"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain Level"}),e.jsx("select",{value:t.painLevel,onChange:a=>c(i.id,t.id,{painLevel:parseInt(a.target.value)}),className:"input-field text-base py-3 px-4 w-full",children:ve.map(({value:a,label:n})=>e.jsx("option",{value:a,children:n},a))})]})]})]}),e.jsxs("div",{className:`hidden md:grid gap-2 items-center ${m?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:e.jsx("span",{className:"text-iron-400 text-sm font-medium",children:r+1})}),i.type==="time"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:m?"col-span-3":"col-span-6",children:e.jsx("input",{type:"number",inputMode:"numeric",value:t.prescribedTime||"",onChange:a=>c(i.id,t.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3"})}),m&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualTime||"",onChange:a=>c(i.id,t.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):i.type==="bodyweight"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:m?"col-span-3":"col-span-6",children:e.jsx("input",{type:"text",inputMode:"numeric",value:t.prescribedReps||"",onChange:a=>c(i.id,t.id,{prescribedReps:a.target.value}),onBlur:a=>c(i.id,t.id,{prescribedReps:G(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-sm py-2 px-3"})}),m&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualReps||"",onChange:a=>c(i.id,t.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:m?"col-span-3":"col-span-6",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:t.prescribedWeight||"",onChange:a=>c(i.id,t.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3"}),e.jsx("span",{className:"text-iron-600",children:"×"}),e.jsx("input",{type:"text",inputMode:"numeric",value:t.prescribedReps||"",onChange:a=>c(i.id,t.id,{prescribedReps:a.target.value}),onBlur:a=>c(i.id,t.id,{prescribedReps:G(a.target.value)}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3"})]})}),m&&e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:t.actualWeight||"",onChange:a=>c(i.id,t.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"}),e.jsx("span",{className:"text-iron-600",children:"×"}),e.jsx("input",{type:"number",inputMode:"numeric",value:t.actualReps||"",onChange:a=>c(i.id,t.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})})]}),m&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:t.rpe,onChange:a=>c(i.id,t.id,{rpe:a.target.value}),className:"input-field text-sm py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"—"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})}),m&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:t.painLevel,onChange:a=>c(i.id,t.id,{painLevel:parseInt(a.target.value)}),className:`input-field text-sm py-2 px-3 w-full ${t.painLevel>=7?"text-red-400 border-red-500/50":t.painLevel>=4?"text-yellow-400 border-yellow-500/50":"text-green-400"}`,children:[e.jsx("option",{value:"0",children:"0 - None"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3 - Mild"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5 - Moderate"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7 - High"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"}),e.jsx("option",{value:"10",children:"10 - Severe"})]})}),e.jsx("div",{className:"col-span-1 flex justify-end",children:i.sets.length>1&&e.jsx("button",{onClick:()=>te(i.id,t.id),className:"p-1 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})})]})]},t.id)),e.jsxs("button",{onClick:()=>he(i.id),className:"mt-2 text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"}),"Add Set"]})]})})})]},i.id)})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Ee,className:`flex-1 py-4 border-2 border-dashed border-iron-700 rounded-xl
              text-iron-400 hover:text-iron-200 hover:border-iron-600
              flex items-center justify-center gap-2 transition-colors`,children:[e.jsx(B,{className:"w-5 h-5"}),"Add Exercise"]}),e.jsxs("button",{onClick:Me,className:`flex-1 py-4 border-2 border-dashed border-purple-500/30 rounded-xl
              text-purple-400 hover:text-purple-300 hover:border-purple-500/50
              flex items-center justify-center gap-2 transition-colors`,children:[e.jsx(le,{className:"w-5 h-5"}),"Add Superset"]})]})]}),e.jsx("div",{className:`fixed bottom-0 right-0 p-4 bg-gradient-to-t from-iron-950 via-iron-950/95 to-transparent left-0 ${Z?"lg:left-64":"lg:left-20"} transition-[left] duration-300`,children:e.jsxs("div",{className:"max-w-3xl mx-auto flex gap-3",children:[e.jsx("button",{onClick:()=>E(-1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:Le,disabled:M,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:M?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-5 h-5"}),m?"Update Workout":"Save Workout"]})})]})})]}),e.jsx(Y,{children:R&&e.jsxs(e.Fragment,{children:[e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>F(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsxs(O.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed inset-4 max-w-lg mx-auto my-auto max-h-[90vh] overflow-y-auto
                bg-iron-900 border border-iron-700 rounded-2xl z-50`,children:[e.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-5 border-b border-iron-800 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-xl text-iron-100",children:ne.title}),e.jsx("button",{onClick:()=>F(!1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-full",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("p",{className:"text-iron-400 mb-6",children:ne.description}),e.jsx("div",{className:"space-y-3",children:ne.scale.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-iron-800/50 rounded-plate",children:[e.jsx("div",{className:"w-10 h-10 rounded-plate bg-flame-500/20 flex items-center justify-center",children:e.jsx("span",{className:"font-display text-lg text-flame-400",children:s.value})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-iron-100",children:s.label}),e.jsx("p",{className:"text-sm text-iron-500",children:s.description})]})]},s.value))})]})]})]})})]})}export{rt as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BH1MXG3y.js","assets/index-B_knwA6G.css"])))=>i.map(i=>d[i]);
import{t as ue,a as be,b as fe,c as ge,u as Ne,d as je,r as x,j as e,Y as S,A as ve,L as ye,C as we,p as ke,o as Ce,B as Re,i as Te,k as Ee,l as We,m as Pe,a3 as Me,F as Se,w as Le,f as De,am as Ae,P as $e,X as L,n as Fe,h as _e,_ as ze,Q as v,N as Be,O as Oe}from"./index-BH1MXG3y.js";import{A as He}from"./calorieService-6-LCVeV1.js";import{M as Ue}from"./more-vertical-DHEyCNvN.js";import{P as Ve}from"./pen-LLDuRvQy.js";import{T as Ye}from"./trash-2-DIsgLbDI.js";import{C as qe}from"./clock-BsVZp4lP.js";import{M as Z}from"./message-square-C07fH1sq.js";import{P as Ge}from"./pencil-B3kL8D_P.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Qe=(d,m)=>!d||!m||m<1?null:m===1?d:m>30?null:Math.round(d*(1+m/30)),D=d=>{if(d.type)return d.type;const m=d.sets||[];return m.some(p=>p.prescribedTime||p.actualTime)?"time":!m.some(p=>p.prescribedWeight||p.actualWeight)&&m.some(p=>p.prescribedReps||p.actualReps)?"bodyweight":"weight"},Xe=d=>{switch(d){case"time":return{label:"Time",color:"bg-blue-500/20 text-blue-400"};case"bodyweight":return{label:"BW",color:"bg-emerald-500/20 text-emerald-400"};default:return null}};function rs(){var Y,q,G,J,Q,X;const{id:d}=be(),m=fe(),y=ge();Ne("Workout");const{user:p,isGuest:b}=je(),[l,w]=x.useState(null),[K,I]=x.useState(!0),[A,$]=x.useState(!1),[F,_]=x.useState(!1),[k,T]=x.useState(!1),[ee,j]=x.useState(!1),[E,f]=x.useState([]),[W,C]=x.useState(!1),[P,z]=x.useState(""),[se,B]=x.useState(!1),[M,te]=x.useState(!1),[O,H]=x.useState(null);x.useEffect(()=>{async function s(){if(!(!d||!p))try{let t;if(b){const{getSampleWorkouts:r}=await ze(async()=>{const{getSampleWorkouts:i}=await import("./index-BH1MXG3y.js").then(o=>o.b4);return{getSampleWorkouts:i}},__vite__mapDeps([0,1]));t=r().find(i=>i.id===d)}else t=await v.getById(d);w(t),z((t==null?void 0:t.notes)||""),t!=null&&t.exercises&&f(t.exercises.map(r=>{var i;return{...r,notes:r.notes||"",sets:((i=r.sets)==null?void 0:i.map(o=>({...o})))||[]}}))}catch(t){console.error("Error fetching workout:",t)}finally{I(!1)}}s()},[d,p,b]);const U=()=>{var s;(s=y.state)!=null&&s.from?m(y.state.from):m(-1)},ae=async()=>{if(!k){T(!0);return}_(!0);try{if(b){m("/workouts");return}await v.delete(d),m("/workouts")}catch(s){console.error("Error deleting workout:",s),_(!1),T(!1)}},le=async s=>{const t=l.exercises[s];if(!(!t||b)){H(s);try{const r=l.exercises.filter((a,n)=>n!==s).map(a=>a.name),i=await Be(),o=await fetch(Oe("swap-exercise"),{method:"POST",headers:i,body:JSON.stringify({exerciseName:t.name,exerciseType:t.type||"weight",sets:t.sets,workoutContext:{otherExercises:r}})});if(!o.ok)throw new Error("Swap failed");const c=await o.json();if(c.exercise){const a=l.exercises.map((n,u)=>u===s?{...c.exercise,type:c.exercise.type||n.type||"weight"}:n);await v.update(d,{exercises:a}),w(n=>({...n,exercises:a})),f(a.map(n=>{var u;return{...n,notes:n.notes||"",sets:((u=n.sets)==null?void 0:u.map(R=>({...R})))||[]}}))}}catch(r){console.error("Swap error:",r)}finally{H(null)}}},g=(s,t,r,i)=>{f(o=>{const c=[...o];return c[s]={...c[s],sets:c[s].sets.map((a,n)=>n===t?{...a,[r]:i}:a)},c})},re=(s,t)=>{f(r=>{const i=[...r];return i[s]={...i[s],notes:t},i})},ie=s=>{f(t=>{const r=[...t],i=r[s],o=i.sets[i.sets.length-1],c=D(i);let a={rpe:"",painLevel:0,completed:!1};return c==="time"?a={...a,prescribedTime:(o==null?void 0:o.prescribedTime)||"",actualTime:""}:c==="bodyweight"?a={...a,prescribedReps:(o==null?void 0:o.prescribedReps)||"",actualReps:""}:a={...a,prescribedWeight:(o==null?void 0:o.prescribedWeight)||"",prescribedReps:(o==null?void 0:o.prescribedReps)||"",actualWeight:"",actualReps:""},r[s]={...i,sets:[...i.sets,a]},r})},ne=(s,t)=>{f(r=>{const i=[...r],o=i[s];return o.sets.length<=1?r:(i[s]={...o,sets:o.sets.filter((c,a)=>a!==t)},i)})},V=s=>{const t={exercises:s,notes:P};return l!=null&&l.coachingNotes&&(t.coachingNotes=l.coachingNotes),l!=null&&l.personalNotes&&(t.personalNotes=l.personalNotes),l!=null&&l.description&&(t.description=l.description),t},ce=async()=>{C(!0);try{const s=V(E);b||await v.update(d,s),w(t=>({...t,...s})),j(!1)}catch(s){console.error("Error saving:",s),alert("Failed to save")}finally{C(!1)}},oe=async()=>{C(!0);try{const s=E.map(t=>{const r=D(t);return{...t,sets:t.sets.map(i=>r==="time"?{...i,actualTime:i.actualTime||i.prescribedTime||""}:r==="bodyweight"?{...i,actualReps:i.actualReps||i.prescribedReps||""}:{...i,actualWeight:i.actualWeight||i.prescribedWeight||"",actualReps:i.actualReps||i.prescribedReps||""})}});if(!b){const t=V(s);await v.complete(d,t)}w(t=>({...t,exercises:s,notes:P,status:"completed",...(l==null?void 0:l.coachingNotes)&&{coachingNotes:l.coachingNotes},...(l==null?void 0:l.personalNotes)&&{personalNotes:l.personalNotes},...(l==null?void 0:l.description)&&{description:l.description}})),f(s),j(!1)}catch(s){console.error("Error completing:",s),alert("Failed to complete")}finally{C(!1)}},de=s=>s>=9?"text-red-400":s>=7?"text-yellow-400":"text-green-400",me=s=>s>=7?"bg-red-500/20 text-red-400":s>=4?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400";if(K)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"w-8 h-8 border-2 border-flame-500 border-t-transparent rounded-full animate-spin"})});if(!l)return e.jsxs("div",{className:"max-w-md mx-auto px-4 py-12 text-center",children:[e.jsx(S,{className:"w-16 h-16 text-iron-700 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-display text-iron-200 mb-2",children:"Workout Not Found"}),e.jsx("button",{onClick:U,className:"btn-primary mt-4",children:"Go Back"})]});const h=l.status==="scheduled",N=l.workoutType==="cardio",xe=((Y=y.state)==null?void 0:Y.fromLabel)||"Back",pe=((q=l.exercises)==null?void 0:q.reduce((s,t)=>{var r;return s+(((r=t.sets)==null?void 0:r.length)||0)},0))||0,he=((G=l.exercises)==null?void 0:G.length)||0;return ee?e.jsxs("div",{className:"max-w-2xl mx-auto pb-36",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-iron-950/95 backdrop-blur-sm border-b border-iron-800 -mx-4 px-4 py-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>j(!1),className:"p-2 -ml-2 text-iron-400 hover:text-iron-200 transition-colors",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-display text-lg text-iron-100",children:h?"Log Workout":"Edit Log"}),e.jsx("button",{onClick:()=>B(!0),className:"p-2 text-iron-400 hover:text-iron-200",children:e.jsx(Z,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"card-steel p-4 mb-4",children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-2",children:"Workout Notes"}),e.jsx("textarea",{value:P,onChange:s=>z(s.target.value),placeholder:"How did the workout go?",rows:2,className:"w-full input-field text-sm resize-none"})]}),e.jsx("div",{className:"space-y-4",children:E.map((s,t)=>{var o;const r=D(s),i=Xe(r);return e.jsxs("div",{className:"card-steel p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h3",{className:"font-semibold text-iron-100 text-xl flex-1",children:s.name}),i&&e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${i.color}`,children:i.label})]}),e.jsx("div",{className:"space-y-4",children:(o=s.sets)==null?void 0:o.map((c,a)=>e.jsxs("div",{className:"bg-iron-800/30 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-lg font-medium text-iron-200",children:["Set ",a+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-iron-500 bg-iron-800 px-2 py-1 rounded",children:["Target: ",r==="time"?`${c.prescribedTime||"—"}s`:r==="bodyweight"?`${c.prescribedReps||"—"} reps`:`${c.prescribedWeight||"—"} × ${c.prescribedReps||"—"}`,c.targetRpe?` @ RPE ${c.targetRpe}`:""]}),s.sets.length>1&&e.jsx("button",{onClick:()=>ne(t,a),className:"p-1 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(L,{className:"w-4 h-4"})})]})]}),r==="time"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1 font-medium",children:"Time (seconds)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:c.actualTime||"",onChange:n=>g(t,a,"actualTime",n.target.value),placeholder:c.prescribedTime||"—",className:"w-full input-field text-xl py-3 px-4 text-center font-semibold"})]}):r==="bodyweight"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1 font-medium",children:"Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:c.actualReps||"",onChange:n=>g(t,a,"actualReps",n.target.value),placeholder:c.prescribedReps||"—",className:"w-full input-field text-xl py-3 px-4 text-center font-semibold"})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1 font-medium",children:"Weight"}),e.jsx("input",{type:"text",value:c.actualWeight||"",onChange:n=>g(t,a,"actualWeight",n.target.value),placeholder:c.prescribedWeight||"lbs",className:"w-full input-field text-xl py-3 px-4 text-center font-semibold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1 font-medium",children:"Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:c.actualReps||"",onChange:n=>g(t,a,"actualReps",n.target.value),placeholder:c.prescribedReps||"—",className:"w-full input-field text-xl py-3 px-4 text-center font-semibold"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"RPE"}),e.jsxs("select",{value:c.rpe||"",onChange:n=>g(t,a,"rpe",n.target.value),className:"w-full input-field py-2 px-3",children:[e.jsx("option",{value:"",children:"—"}),[6,6.5,7,7.5,8,8.5,9,9.5,10].map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain"}),e.jsxs("select",{value:c.painLevel||0,onChange:n=>g(t,a,"painLevel",parseInt(n.target.value)||0),className:"w-full input-field py-2 px-3",children:[e.jsx("option",{value:"0",children:"None"}),[1,2,3,4,5,6,7,8,9,10].map(n=>e.jsx("option",{value:n,children:n},n))]})]})]})]},a))}),e.jsxs("button",{onClick:()=>ie(t),className:`mt-3 w-full py-2.5 border border-dashed border-iron-700 rounded-lg
                text-sm text-flame-400 hover:text-flame-300 hover:border-iron-600
                flex items-center justify-center gap-1.5 transition-colors`,children:[e.jsx(Fe,{className:"w-4 h-4"}),"Add Set"]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-xs text-iron-500 mb-1",children:["Notes for ",s.name]}),e.jsx("textarea",{value:s.notes||"",onChange:c=>re(t,c.target.value),placeholder:"How did this exercise feel?",rows:2,className:"w-full input-field text-sm resize-none"})]})]},t)})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-iron-950/95 backdrop-blur-sm border-t border-iron-800",children:[e.jsxs("div",{className:"flex gap-3 mb-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"btn-secondary flex-1 py-3",children:"Cancel"}),e.jsx("button",{onClick:ce,disabled:W,className:"btn-secondary flex-1 py-3",children:"Save Progress"})]}),e.jsx("button",{onClick:oe,disabled:W,className:"btn-primary w-full py-4 text-lg flex items-center justify-center gap-2",children:W?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"w-5 h-5"}),h?"Complete Workout":"Update"]})}),e.jsx("p",{className:"text-xs text-iron-500 text-center mt-2",children:"Empty fields filled with targets"})]}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-iron-900 rounded-xl w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-display text-xl text-iron-100",children:"RPE Scale"}),e.jsx("button",{onClick:()=>B(!1),className:"p-2 text-iron-400 hover:text-iron-200",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-iron-400 text-sm mb-4",children:"Rate of Perceived Exertion"}),e.jsx("div",{className:"space-y-2",children:[{value:10,label:"Max effort - could not do more"},{value:9,label:"Very hard - 1 rep left"},{value:8,label:"Hard - 2 reps left"},{value:7,label:"Challenging - 3 reps left"},{value:6,label:"Moderate - 4+ reps left"}].map(({value:s,label:t})=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-flame-500/20 text-flame-400 flex items-center justify-center font-medium",children:s}),e.jsx("span",{className:"text-iron-300",children:t})]},s))})]})})]}):e.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-iron-950/95 backdrop-blur-sm border-b border-iron-800 -mx-4 px-4 py-3 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:U,className:"flex items-center gap-2 text-iron-400 hover:text-iron-200 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:xe})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[h?e.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium",children:"To Do"}):e.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium",children:"Completed"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>$(!A),className:"p-2 text-iron-400 hover:text-iron-200 transition-colors",children:e.jsx(Ue,{className:"w-5 h-5"})}),A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>$(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-1 w-44 bg-iron-800 border border-iron-700 rounded-xl shadow-xl z-20 overflow-hidden",children:[e.jsxs(ye,{to:`/workouts/${d}/edit`,className:"flex items-center gap-3 px-4 py-3 text-iron-300 hover:bg-iron-700 transition-colors",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:ae,disabled:F,className:`w-full flex items-center gap-3 px-4 py-3 transition-colors disabled:opacity-50 ${k?"text-white bg-red-500 hover:bg-red-600":"text-red-400 hover:bg-red-500/10"}`,children:[e.jsx(Ye,{className:"w-4 h-4"}),F?"Deleting...":k?"Tap to confirm":"Delete"]}),k&&e.jsx("button",{onClick:()=>T(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-iron-400 hover:bg-iron-700 transition-colors text-sm",children:"Cancel"})]})]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-display text-iron-50 mb-3",children:l.name||"Untitled Workout"}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-iron-400",children:[e.jsx(we,{className:"w-4 h-4 text-flame-400"}),e.jsx("span",{children:l.date?ke(Ce(l.date),"EEEE, MMM d"):"No date"})]}),!N&&e.jsxs("div",{className:"flex items-center gap-2 text-iron-400",children:[e.jsx(S,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{children:[he," exercises · ",pe," sets"]})]})]})]}),(l.coachingNotes||l.personalNotes)&&e.jsxs("div",{className:"card-steel mb-6 overflow-hidden",children:[e.jsxs("button",{onClick:()=>te(!M),className:"w-full flex items-center justify-between p-4 hover:bg-iron-800/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-flame-400"}),e.jsx("span",{className:"text-sm font-medium text-iron-200",children:"AI Coaching Notes"})]}),M?e.jsx(Te,{className:"w-4 h-4 text-iron-500"}):e.jsx(Ee,{className:"w-4 h-4 text-iron-500"})]}),e.jsx(We,{children:M&&e.jsx(Pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"px-4 pb-4 max-h-64 overflow-y-auto space-y-3",children:[l.coachingNotes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-iron-500 uppercase tracking-wider mb-1",children:"Coaching Notes"}),e.jsx("p",{className:"text-sm text-iron-300 leading-relaxed",children:l.coachingNotes})]}),l.personalNotes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-iron-500 uppercase tracking-wider mb-1",children:"Your Notes"}),e.jsx("p",{className:"text-sm text-iron-300 leading-relaxed",children:l.personalNotes})]})]})})})]}),l.notes&&e.jsx("div",{className:"card-steel p-4 mb-6",children:e.jsx("p",{className:"text-iron-300",children:l.notes})}),N&&e.jsxs("div",{className:"card-steel p-5 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-iron-800/50 rounded-xl p-4 text-center",children:[e.jsx(Me,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-semibold text-iron-100",children:((J=He[l.activityType])==null?void 0:J.label)||l.activityType||"Activity"}),e.jsx("p",{className:"text-xs text-iron-500 mt-1",children:"Activity"})]}),l.estimatedCalories>0&&e.jsxs("div",{className:"bg-flame-500/10 rounded-xl p-4 text-center",children:[e.jsx(Se,{className:"w-8 h-8 text-flame-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-semibold text-flame-400",children:l.estimatedCalories}),e.jsx("p",{className:"text-xs text-iron-500 mt-1",children:"Calories"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.duration&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-iron-800/30 rounded-lg",children:[e.jsx(qe,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-iron-100",children:[l.duration," min"]}),e.jsx("p",{className:"text-xs text-iron-500",children:"Duration"})]})]}),l.distance&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-iron-800/30 rounded-lg",children:[e.jsx(Je,{className:"w-5 h-5 text-purple-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-iron-100",children:[l.distance," mi"]}),e.jsx("p",{className:"text-xs text-iron-500",children:"Distance"})]})]})]})]}),h&&!N&&((Q=l.exercises)==null?void 0:Q.length)>0&&e.jsxs("div",{className:"card-steel p-4 mb-6 bg-yellow-500/5 border-yellow-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Le,{className:"w-5 h-5 text-yellow-400"}),e.jsx("h3",{className:"font-semibold text-iron-100",children:"Today's Targets"})]}),e.jsx("div",{className:"space-y-2",children:l.exercises.map((s,t)=>{var o,c,a;const r=(o=s.sets)==null?void 0:o[0],i=(c=s.sets)==null?void 0:c.every(n=>n.prescribedWeight===(r==null?void 0:r.prescribedWeight)&&n.prescribedReps===(r==null?void 0:r.prescribedReps));return e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-iron-800/50 last:border-0",children:[e.jsx("span",{className:"font-medium text-iron-200",children:s.name}),e.jsxs("span",{className:"text-yellow-400 font-semibold",children:[(a=s.sets)==null?void 0:a.length,"×"," ",s.type==="time"||r!=null&&r.prescribedTime?`${(r==null?void 0:r.prescribedTime)||"—"}s`:i?`${(r==null?void 0:r.prescribedWeight)||"—"}lbs × ${(r==null?void 0:r.prescribedReps)||"—"}`:"varied"]})]},t)})})]}),!N&&((X=l.exercises)==null?void 0:X.length)>0&&e.jsx("div",{className:"space-y-4",children:l.exercises.map((s,t)=>{var i,o,c;const r=s.type==="time"||((i=s.sets)==null?void 0:i.some(a=>a.prescribedTime||a.actualTime));return e.jsxs("div",{className:"card-steel overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-iron-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-xl font-bold text-iron-50 flex-1",children:s.name}),r&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-500/20 text-blue-400 rounded",children:"Time"}),h&&!b&&e.jsx("button",{onClick:()=>le(t),disabled:O!==null,title:"Swap for similar exercise",className:"p-1.5 text-iron-500 hover:text-flame-400 hover:bg-flame-500/10 rounded-lg transition-colors disabled:opacity-30",children:O===t?e.jsx(De,{className:"w-4 h-4 animate-spin text-flame-400"}):e.jsx(Ae,{className:"w-4 h-4"})})]}),e.jsxs("p",{className:"text-sm text-iron-500 mt-1",children:[((o=s.sets)==null?void 0:o.length)||0," sets"]})]}),e.jsx("div",{className:"divide-y divide-iron-800/50",children:(c=s.sets)==null?void 0:c.map((a,n)=>{const u=r?a.actualTime:a.actualWeight||a.actualReps,R=!r&&u&&a.actualWeight&&a.actualReps&&parseInt(a.actualReps)>1?Qe(parseFloat(a.actualWeight),parseInt(a.actualReps)):null;return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-iron-800 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xl font-bold text-iron-400",children:n+1})}),e.jsx("div",{className:"flex-1",children:r?h?e.jsxs("div",{className:"text-2xl font-bold text-iron-100",children:[a.prescribedTime||"—"," seconds"]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-iron-500 mb-1",children:["Target: ",a.prescribedTime||"—","s"]}),u?e.jsxs("span",{className:"text-2xl font-bold text-flame-400",children:[a.actualTime||"—"," seconds"]}):e.jsx("span",{className:"text-lg text-iron-600",children:"Not logged"})]}):h?e.jsxs("div",{className:"text-2xl font-bold text-iron-100",children:[a.prescribedWeight||"—"," lbs ",e.jsx("span",{className:"text-iron-500",children:"×"})," ",a.prescribedReps||"—"," reps"]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-iron-500 mb-1",children:["Target: ",a.prescribedWeight||"—"," × ",a.prescribedReps||"—"]}),u?e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("span",{className:"text-2xl font-bold text-flame-400",children:[a.actualWeight||"—"," lbs × ",a.actualReps||"—"]}),R&&e.jsxs("span",{className:"text-sm text-iron-500 bg-iron-800 px-2 py-1 rounded-lg",children:["e1RM: ",R," lbs"]})]}):e.jsx("span",{className:"text-lg text-iron-600",children:"Not logged"})]})}),!h&&e.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[a.rpe&&e.jsxs("span",{className:`text-sm font-semibold ${de(a.rpe)}`,children:["RPE ",a.rpe]}),a.painLevel>0&&e.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${me(a.painLevel)}`,children:["Pain ",a.painLevel]})]})]})},n)})}),s.notes&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex items-start gap-2 bg-iron-800/30 rounded-lg p-3",children:[e.jsx(Z,{className:"w-4 h-4 text-iron-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-iron-400",children:s.notes})]})})]},t)})}),!N&&(!l.exercises||l.exercises.length===0)&&e.jsxs("div",{className:"card-steel p-8 text-center",children:[e.jsx(S,{className:"w-12 h-12 text-iron-700 mx-auto mb-3"}),e.jsx("p",{className:"text-iron-500",children:"No exercises in this workout"})]}),!N&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-iron-950/95 backdrop-blur-sm border-t border-iron-800",children:e.jsx("button",{onClick:()=>j(!0),className:`w-full py-4 text-lg flex items-center justify-center gap-2 rounded-xl font-semibold ${h?"bg-flame-500 hover:bg-flame-600 text-white":"bg-iron-800 hover:bg-iron-700 text-iron-200"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-6 h-6"}),"Start Workout"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-5 h-5"}),"Edit Logged Data"]})})})]})}export{rs as default};

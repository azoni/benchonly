import{b as Q,d as J,r as g,ay as Z,j as e,A as ee,k as te,F as pe,ax as he,f as se,X as V,az as ae,Q as P,aw as ge,ai as be,a as fe,Y as ve,a3 as je,l as q,m as A,n as H,i as ye,aA as I,ag as Ne,at as we}from"./index-DavVl6G1.js";import{g as ke,A as Ce,c as Te,a as Ee}from"./calorieService-6-LCVeV1.js";import{C as Se}from"./clock-CHsUorid.js";import{S as ie}from"./save-Bp_flRDz.js";import{I as Y}from"./info-BHDbpY31.js";import{T as K}from"./trash-2-DxpHMsj-.js";const Re=[{id:"sunday",short:"Sun",full:"Sunday"},{id:"monday",short:"Mon",full:"Monday"},{id:"tuesday",short:"Tue",full:"Tuesday"},{id:"wednesday",short:"Wed",full:"Wednesday"},{id:"thursday",short:"Thu",full:"Thursday"},{id:"friday",short:"Fri",full:"Friday"},{id:"saturday",short:"Sat",full:"Saturday"}];function De({onBack:w}){const N=Q(),{user:b,userProfile:u}=J(),[v,D]=g.useState(!1),[W,k]=g.useState(!1),[M,F]=g.useState(!1),[n,h]=g.useState({date:Z(),activityType:"",duration:"",distance:"",notes:"",recurring:!1,recurringDays:[]}),S=ke(),p=Ce[n.activityType],C=n.activityType&&n.duration?Te(n.activityType,parseInt(n.duration),u==null?void 0:u.weight):0,T=r=>{h(m=>({...m,recurringDays:m.recurringDays.includes(r)?m.recurringDays.filter(x=>x!==r):[...m.recurringDays,r]}))},R=async()=>{if(!n.activityType){alert("Please select an activity");return}if(!n.duration){alert("Please enter duration");return}D(!0);try{const r={workoutType:"cardio",name:(p==null?void 0:p.label)||"Cardio",date:ae(n.date),activityType:n.activityType,duration:parseInt(n.duration),distance:n.distance?parseFloat(n.distance):null,estimatedCalories:C,notes:n.notes};await P.create(b.uid,r),n.recurring&&n.recurringDays.length>0&&await ge.create(b.uid,{type:"recurring",name:(p==null?void 0:p.label)||"Cardio",days:n.recurringDays,activityType:n.activityType,duration:parseInt(n.duration),distance:n.distance?parseFloat(n.distance):null,workoutType:"cardio"}),N("/workouts")}catch(r){console.error("Error saving cardio:",r),alert("Failed to save activity")}finally{D(!1)}};return e.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:w,className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-lg transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl text-iron-50",children:"Log Cardio"}),e.jsx("p",{className:"text-iron-400 text-sm",children:"Track your cardio activity"})]})]}),e.jsx("div",{className:"card-steel p-5 mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:n.date,onChange:r=>h(m=>({...m,date:r.target.value})),className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Activity Type"}),e.jsxs("button",{onClick:()=>k(!0),className:"input-field w-full text-left flex items-center justify-between",children:[e.jsx("span",{className:p?"text-iron-100":"text-iron-500",children:(p==null?void 0:p.label)||"Select..."}),e.jsx(te,{className:"w-4 h-4 text-iron-500"})]})]})]})}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:[e.jsx(Se,{className:"w-4 h-4 inline mr-1"}),"Duration (minutes)"]}),e.jsx("input",{type:"number",value:n.duration,onChange:r=>h(m=>({...m,duration:r.target.value})),placeholder:"30",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Distance (optional)"}),e.jsx("input",{type:"number",step:"0.1",value:n.distance,onChange:r=>h(m=>({...m,distance:r.target.value})),placeholder:"3.5 mi",className:"input-field w-full"})]})]}),C>0&&e.jsxs("div",{className:"mt-4 p-3 bg-flame-500/10 rounded-lg flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-flame-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-iron-300",children:"Estimated calories burned"}),e.jsxs("p",{className:"text-xl font-display text-flame-400",children:[C," cal"]})]})]})]}),e.jsxs("div",{className:"card-steel p-5 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:n.notes,onChange:r=>h(m=>({...m,notes:r.target.value})),placeholder:"How did it feel? Any details...",rows:2,className:"input-field w-full resize-none"})]}),e.jsxs("div",{className:"card-steel p-5 mb-6",children:[e.jsxs("button",{onClick:()=>F(!M),className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-iron-200",children:"Make this recurring"}),e.jsx("p",{className:"text-sm text-iron-500",children:"Auto-schedule weekly"})]})]}),e.jsx("div",{className:`w-12 h-7 rounded-full transition-colors ${n.recurring?"bg-flame-500":"bg-iron-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-1 transition-transform ${n.recurring?"translate-x-6":"translate-x-1"}`})})]}),M&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-iron-800",children:[e.jsx("p",{className:"text-sm text-iron-400 mb-3",children:"Repeat on these days:"}),e.jsx("div",{className:"flex gap-2",children:Re.map(r=>e.jsx("button",{onClick:()=>{T(r.id),h(m=>({...m,recurring:!0}))},className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${n.recurringDays.includes(r.id)?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:bg-iron-700"}`,children:r.short},r.id))}),n.recurringDays.length>0&&e.jsx("p",{className:"text-xs text-iron-500 mt-2",children:"This will create a recurring schedule. You can skip individual days or mark them complete."})]})]}),e.jsx("button",{onClick:R,disabled:v||!n.activityType||!n.duration,className:"btn-primary w-full flex items-center justify-center gap-2 py-3",children:v?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-5 h-5"}),"Save Activity"]})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-iron-900 w-full sm:w-[480px] max-h-[80vh] rounded-t-2xl sm:rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800 flex items-center justify-between sticky top-0 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-lg text-iron-100",children:"Select Activity"}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 text-iron-400 hover:text-iron-200",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4",children:Ee.map(r=>{const m=S[r.id]||[];return m.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-iron-400 mb-2",children:r.label}),e.jsx("div",{className:"space-y-1",children:m.map(x=>e.jsxs("button",{onClick:()=>{h(B=>({...B,activityType:x.id})),k(!1)},className:`w-full p-3 rounded-lg text-left transition-colors flex items-center justify-between ${n.activityType===x.id?"bg-flame-500/20 border border-flame-500":"bg-iron-800 hover:bg-iron-700"}`,children:[e.jsx("span",{className:"text-iron-200",children:x.label}),e.jsxs("span",{className:"text-xs text-iron-500",children:[x.met," MET"]})]},x.id))})]},r.id)})})]})})]})}const U={title:"Rate of Perceived Exertion (RPE)",description:"A scale from 1-10 that measures how hard a set feels, based on reps in reserve (RIR).",scale:[{value:10,label:"Max effort",description:"Could not do any more reps"},{value:9,label:"Very hard",description:"1 rep left in tank"},{value:8,label:"Hard",description:"2 reps left in tank"},{value:7,label:"Challenging",description:"3 reps left in tank"},{value:6,label:"Moderate",description:"4+ reps left in tank"},{value:5,label:"Easy",description:"Warm-up weight"}]},We=[{value:0,label:"None",color:"bg-green-500"},{value:1,label:"1",color:"bg-green-400"},{value:2,label:"2",color:"bg-lime-400"},{value:3,label:"3",color:"bg-yellow-400"},{value:4,label:"4",color:"bg-yellow-500"},{value:5,label:"5",color:"bg-orange-400"},{value:6,label:"6",color:"bg-orange-500"},{value:7,label:"7",color:"bg-red-400"},{value:8,label:"8",color:"bg-red-500"},{value:9,label:"9",color:"bg-red-600"},{value:10,label:"10",color:"bg-red-700"}],Me=["Bench Press","Incline Bench Press","Close Grip Bench","Dumbbell Press","Overhead Press","Squat","Deadlift","Barbell Row","Pull-ups","Tricep Extension","Bicep Curl","Lateral Raise"],Le=["Dead Hang","Plank","Wall Sit","L-Sit","Farmers Carry","Static Hold"],Ae=["Pull-ups","Push-ups","Dips","Chin-ups","Muscle-ups","Bodyweight Squats"];function _e(){const w=Q(),[N]=be(),{id:b}=fe(),{user:u,userProfile:v,updateProfile:D}=J(),[W,k]=g.useState(!1),[M,F]=g.useState(!!b),[n,h]=g.useState(!1),[S,p]=g.useState("strength"),[C,T]=g.useState(null),R=g.useRef(null),r=N.get("userId")||(u==null?void 0:u.uid),m=N.get("userId")&&N.get("userId")!==(u==null?void 0:u.uid),x=N.get("requestId")||null,B=N.get("date")||null,o=!!b,$=(v==null?void 0:v.customExercises)||{},le=[...Me,...$.weight||[]],ne=[...Ae,...$.bodyweight||[]],re=[...Le,...$.time||[]],[j,f]=g.useState({name:"",date:B||Z(),notes:"",exercises:[O()]});g.useEffect(()=>{async function t(){var i;if(!(!b||!u))try{const s=await P.getById(b);if(s){if(s.workoutType==="cardio"){w(`/workouts/${b}`);return}f({name:s.name||"",date:Ne(s.date),notes:s.notes||"",exercises:((i=s.exercises)==null?void 0:i.map(l=>{var a;return{...l,id:l.id||Date.now()+Math.random(),expanded:!0,sets:((a=l.sets)==null?void 0:a.map(d=>({...d,id:d.id||Date.now()+Math.random()})))||[_()]}}))||[O()]})}}catch(s){console.error("Error loading workout:",s)}finally{F(!1)}}t()},[b,u]);function O(t="weight"){return{id:Date.now(),name:"",type:t,sets:[_(t)],notes:"",expanded:!0}}function _(t="weight"){const i={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return t==="time"?{...i,prescribedTime:"",actualTime:""}:{...i,prescribedWeight:"",prescribedReps:"",actualWeight:"",actualReps:""}}const oe=()=>{f(t=>({...t,exercises:[...t.exercises,O()]}))},ce=t=>{f(i=>({...i,exercises:i.exercises.filter(s=>s.id!==t)}))},L=(t,i)=>{f(s=>({...s,exercises:s.exercises.map(l=>l.id===t?{...l,...i}:l)}))},de=t=>{f(i=>({...i,exercises:i.exercises.map(s=>{if(s.id!==t)return s;const l=s.sets[s.sets.length-1],a=s.type||"weight";let d={id:Date.now()+Math.random(),rpe:"",painLevel:0,completed:!1};return a==="time"?d={...d,prescribedTime:(l==null?void 0:l.prescribedTime)||"",actualTime:""}:d={...d,prescribedWeight:(l==null?void 0:l.prescribedWeight)||"",prescribedReps:(l==null?void 0:l.prescribedReps)||"",actualWeight:"",actualReps:""},{...s,sets:[...s.sets,d]}})}))},X=(t,i)=>{f(s=>({...s,exercises:s.exercises.map(l=>l.id===t?{...l,sets:l.sets.filter(a=>a.id!==i)}:l)}))},c=(t,i,s)=>{f(l=>({...l,exercises:l.exercises.map(a=>a.id===t?{...a,sets:a.sets.map(d=>d.id===i?{...d,...s}:d)}:a)}))},z=t=>t==="time"?re:t==="bodyweight"?ne:le,me=(t,i)=>{if(!t.trim())return z(i);const s=t.toLowerCase();return z(i).filter(l=>l.toLowerCase().includes(s))},G=(t,i)=>{L(t,{name:i}),T(null)},ue=async()=>{var l;const t={weight:[],bodyweight:[],time:[]};for(const a of j.exercises){const d=(l=a.name)==null?void 0:l.trim();if(!d)continue;if(!z(a.type||"weight").some(E=>E.toLowerCase()===d.toLowerCase())){const E=a.type||"weight";t[E].includes(d)||t[E].push(d)}}const i=(v==null?void 0:v.customExercises)||{},s={weight:[...new Set([...i.weight||[],...t.weight])],bodyweight:[...new Set([...i.bodyweight||[],...t.bodyweight])],time:[...new Set([...i.time||[],...t.time])]};(t.weight.length||t.bodyweight.length||t.time.length)&&await D({customExercises:s})};if(g.useEffect(()=>{const t=i=>{R.current&&!R.current.contains(i.target)&&T(null)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[]),S==="cardio")return e.jsx(De,{onBack:()=>p("strength")});const xe=async()=>{if(!j.name.trim()){alert("Please enter a workout name");return}k(!0);try{await ue();const t={...j,date:ae(j.date)};if(x&&(t.trainerRequestId=x,t.trainerId=u==null?void 0:u.uid),o)await P.update(b,t);else{const i=await P.create(r,t);x&&(i!=null&&i.id)&&await we.linkWorkout(x,i.id).catch(console.error)}w(x?"/trainer":m?"/admin":"/workouts")}catch(t){console.error("Error saving workout:",t),alert("Failed to save workout")}finally{k(!1)}};return M?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(se,{className:"w-8 h-8 text-flame-500 animate-spin"})}):e.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>w(-1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-plate transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-display-md text-iron-50",children:o?"Edit Workout":x?"Create Trainer Workout":"New Workout"}),e.jsx("p",{className:"text-iron-400",children:o?"Update your training session":x?`Building for user ${r.slice(0,8)}...`:"Log your training session"})]})]}),!o&&e.jsxs("div",{className:"card-steel p-2 mb-6 flex gap-2",children:[e.jsxs("button",{onClick:()=>p("strength"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${S==="strength"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(ve,{className:"w-5 h-5"}),"Strength"]}),e.jsxs("button",{onClick:()=>p("cardio"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-colors ${S==="cardio"?"bg-flame-500 text-white":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,children:[e.jsx(je,{className:"w-5 h-5"}),"Cardio"]})]}),e.jsxs("div",{className:"card-steel rounded-xl p-5 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Workout Name"}),e.jsx("input",{type:"text",value:j.name,onChange:t=>f(i=>({...i,name:t.target.value})),placeholder:"e.g., Bench Day, Upper Body",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:j.date,onChange:t=>f(i=>({...i,date:t.target.value})),className:"input-field"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-iron-300 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:j.notes,onChange:t=>f(i=>({...i,notes:t.target.value})),placeholder:"How did you feel? Any observations?",rows:2,className:"input-field resize-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-display text-xl text-iron-100",children:"Exercises"}),o&&e.jsxs("button",{onClick:()=>h(!0),className:"text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4"}),"What is RPE?"]})]}),e.jsx(q,{children:j.exercises.map((t,i)=>e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"card-steel rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-plate bg-flame-500/10 flex items-center justify-center text-flame-400 font-semibold text-sm",children:i+1}),e.jsxs("div",{className:"flex-1 relative",ref:C===t.id?R:null,children:[e.jsx("input",{type:"text",value:t.name,onChange:s=>{L(t.id,{name:s.target.value}),T(t.id)},onFocus:()=>T(t.id),placeholder:"Search or type exercise...",className:`w-full bg-transparent text-iron-100 font-medium
                        border-none focus:outline-none placeholder:text-iron-500`}),C===t.id&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-iron-900 border border-iron-700 rounded-xl shadow-xl max-h-52 overflow-y-auto",children:(()=>{var d;const s=me(t.name,t.type||"weight"),l=(d=t.name)==null?void 0:d.trim().toLowerCase(),a=s.some(y=>y.toLowerCase()===l);return e.jsxs(e.Fragment,{children:[s.length>0?s.map(y=>e.jsx("button",{type:"button",onMouseDown:E=>E.preventDefault(),onClick:()=>G(t.id,y),className:"w-full text-left px-4 py-3 text-sm text-iron-200 hover:bg-iron-800 active:bg-iron-700 transition-colors border-b border-iron-800/50 last:border-b-0",children:y},y)):null,l&&!a&&e.jsxs("button",{type:"button",onMouseDown:y=>y.preventDefault(),onClick:()=>G(t.id,t.name.trim()),className:"w-full text-left px-4 py-3 text-sm text-flame-400 hover:bg-iron-800 active:bg-iron-700 transition-colors flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),'Add "',t.name.trim(),'"']}),!l&&s.length===0&&e.jsx("p",{className:"px-4 py-3 text-sm text-iron-500",children:"Type to search..."})]})})()})]}),e.jsx("button",{onClick:()=>L(t.id,{expanded:!t.expanded}),className:"p-2 text-iron-500 hover:text-iron-300 transition-colors",children:t.expanded?e.jsx(ye,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"})}),j.exercises.length>1&&e.jsx("button",{onClick:()=>ce(t.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(K,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2",children:[{type:"weight",label:"Weight"},{type:"bodyweight",label:"Bodyweight"},{type:"time",label:"Time"}].map(({type:s,label:l})=>e.jsx("button",{onClick:()=>{L(t.id,{type:s,sets:t.sets.map(a=>({..._(s),id:a.id,rpe:a.rpe,painLevel:a.painLevel}))})},className:`px-3 py-1 text-xs rounded-lg transition-colors ${(t.type||"weight")===s?"bg-flame-500 text-white":"bg-iron-800 text-iron-400 hover:text-iron-200"}`,children:l},s))})]}),e.jsx(q,{children:t.expanded&&e.jsx(A.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`hidden md:grid gap-2 mb-2 text-xs text-iron-500 uppercase tracking-wider ${o?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:"Set"}),e.jsx("div",{className:o?"col-span-3":"col-span-6",children:"Target"}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-3",children:"Actual"}),e.jsx("div",{className:"col-span-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>h(!0),className:"text-flame-400 hover:text-flame-300",children:e.jsx(Y,{className:"w-3 h-3"})})]})}),e.jsx("div",{className:"col-span-2",children:"Pain"})]}),e.jsx("div",{className:"col-span-1"})]}),t.sets.map((s,l)=>e.jsxs("div",{className:"mb-4 md:mb-2",children:[e.jsxs("div",{className:"md:hidden space-y-3 p-3 bg-iron-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-iron-300 font-medium",children:["Set ",l+1]}),e.jsx("button",{onClick:()=>X(t.id,s.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(K,{className:"w-4 h-4"})})]}),t.type==="time"?e.jsxs("div",{className:`grid gap-3 ${o?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.prescribedTime||"",onChange:a=>c(t.id,s.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4"})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual (sec)"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualTime||"",onChange:a=>c(t.id,s.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):t.type==="bodyweight"?e.jsxs("div",{className:`grid gap-3 ${o?"grid-cols-2":"grid-cols-1"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>c(t.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>c(t.id,s.id,{prescribedReps:I(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>c(t.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Weight"}),e.jsx("input",{type:"text",value:s.prescribedWeight||"",onChange:a=>c(t.id,s.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Target Reps"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>c(t.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>c(t.id,s.id,{prescribedReps:I(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-base py-3 px-4"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Weight"}),e.jsx("input",{type:"text",value:s.actualWeight||"",onChange:a=>c(t.id,s.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-flame-400 mb-1",children:"Actual Reps"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>c(t.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-base py-3 px-4 border-flame-500/30"})]})]})]}),o&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-iron-500 mb-1 flex items-center gap-1",children:["RPE",e.jsx("button",{onClick:()=>h(!0),className:"text-flame-400",children:e.jsx(Y,{className:"w-3 h-3"})})]}),e.jsxs("select",{value:s.rpe,onChange:a=>c(t.id,s.id,{rpe:a.target.value}),className:"input-field text-base py-3 px-4 w-full",children:[e.jsx("option",{value:"",children:"—"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-iron-500 mb-1",children:"Pain Level"}),e.jsx("select",{value:s.painLevel,onChange:a=>c(t.id,s.id,{painLevel:parseInt(a.target.value)}),className:"input-field text-base py-3 px-4 w-full",children:We.map(({value:a,label:d})=>e.jsx("option",{value:a,children:d},a))})]})]})]}),e.jsxs("div",{className:`hidden md:grid gap-2 items-center ${o?"grid-cols-12":"grid-cols-8"}`,children:[e.jsx("div",{className:"col-span-1",children:e.jsx("span",{className:"text-iron-400 text-sm font-medium",children:l+1})}),t.type==="time"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o?"col-span-3":"col-span-6",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.prescribedTime||"",onChange:a=>c(t.id,s.id,{prescribedTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3"})}),o&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualTime||"",onChange:a=>c(t.id,s.id,{actualTime:a.target.value}),placeholder:"seconds",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):t.type==="bodyweight"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o?"col-span-3":"col-span-6",children:e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>c(t.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>c(t.id,s.id,{prescribedReps:I(a.target.value)}),placeholder:"e.g. 8 or 6-8",className:"w-full input-field text-sm py-2 px-3"})}),o&&e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>c(t.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o?"col-span-3":"col-span-6",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:s.prescribedWeight||"",onChange:a=>c(t.id,s.id,{prescribedWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3"}),e.jsx("span",{className:"text-iron-600",children:"×"}),e.jsx("input",{type:"text",inputMode:"numeric",value:s.prescribedReps||"",onChange:a=>c(t.id,s.id,{prescribedReps:a.target.value}),onBlur:a=>c(t.id,s.id,{prescribedReps:I(a.target.value)}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3"})]})}),o&&e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"text",value:s.actualWeight||"",onChange:a=>c(t.id,s.id,{actualWeight:a.target.value}),placeholder:"lbs",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"}),e.jsx("span",{className:"text-iron-600",children:"×"}),e.jsx("input",{type:"number",inputMode:"numeric",value:s.actualReps||"",onChange:a=>c(t.id,s.id,{actualReps:a.target.value}),placeholder:"reps",className:"w-full input-field text-sm py-2 px-3 border-flame-500/30"})]})})]}),o&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:s.rpe,onChange:a=>c(t.id,s.id,{rpe:a.target.value}),className:"input-field text-sm py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"—"}),[5,6,7,8,9,10].map(a=>e.jsx("option",{value:a,children:a},a))]})}),o&&e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{value:s.painLevel,onChange:a=>c(t.id,s.id,{painLevel:parseInt(a.target.value)}),className:`input-field text-sm py-2 px-3 w-full ${s.painLevel>=7?"text-red-400 border-red-500/50":s.painLevel>=4?"text-yellow-400 border-yellow-500/50":"text-green-400"}`,children:[e.jsx("option",{value:"0",children:"0 - None"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3 - Mild"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5 - Moderate"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7 - High"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"}),e.jsx("option",{value:"10",children:"10 - Severe"})]})}),e.jsx("div",{className:"col-span-1 flex justify-end",children:t.sets.length>1&&e.jsx("button",{onClick:()=>X(t.id,s.id),className:"p-1 text-iron-600 hover:text-red-400 transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})})]})]},s.id)),e.jsxs("button",{onClick:()=>de(t.id),className:"mt-2 text-sm text-flame-400 hover:text-flame-300 flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"}),"Add Set"]})]})})})]},t.id))}),e.jsxs("button",{onClick:oe,className:`w-full py-4 border-2 border-dashed border-iron-700 rounded-xl
            text-iron-400 hover:text-iron-200 hover:border-iron-600
            flex items-center justify-center gap-2 transition-colors`,children:[e.jsx(H,{className:"w-5 h-5"}),"Add Exercise"]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-iron-950 via-iron-950/95 to-transparent",children:e.jsxs("div",{className:"max-w-3xl mx-auto flex gap-3",children:[e.jsx("button",{onClick:()=>w(-1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:xe,disabled:W,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:W?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-5 h-5"}),o?"Update Workout":"Save Workout"]})})]})}),e.jsx(q,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsxs(A.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed inset-4 max-w-lg mx-auto my-auto max-h-[90vh] overflow-y-auto
                bg-iron-900 border border-iron-700 rounded-2xl z-50`,children:[e.jsxs("div",{className:"sticky top-0 flex items-center justify-between p-5 border-b border-iron-800 bg-iron-900",children:[e.jsx("h3",{className:"font-display text-xl text-iron-100",children:U.title}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 text-iron-400 hover:text-iron-100 hover:bg-iron-800 rounded-full",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("p",{className:"text-iron-400 mb-6",children:U.description}),e.jsx("div",{className:"space-y-3",children:U.scale.map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-iron-800/50 rounded-plate",children:[e.jsx("div",{className:"w-10 h-10 rounded-plate bg-flame-500/20 flex items-center justify-center",children:e.jsx("span",{className:"font-display text-lg text-flame-400",children:t.value})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-iron-100",children:t.label}),e.jsx("p",{className:"text-sm text-iron-500",children:t.description})]})]},t.value))})]})]})]})})]})}export{_e as default};

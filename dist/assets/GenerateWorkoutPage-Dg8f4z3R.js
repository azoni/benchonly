import{b as Mt,u as Ht,ap as Gt,d as Bt,r as d,aq as zt,V as ne,W as le,Y as ie,$ as oe,a0 as Y,a2 as ce,ar as Ut,j as e,K as _t,A as qt,B as de,n as nt,m as R,i as T,C as lt,J as Z,I as it,Z as ot,t as Jt,N as Kt,M as Yt,as as me,S as De,at as xe,R as ct,l as Zt,o as dt,H as Vt,X as Xt,P as mt,w as $e,x as Te,a3 as Qt,au as xt}from"./index-OFuFeI6c.js";import{E as es}from"./ExerciseInfoModal-AMflaent.js";import{T as ts}from"./timer-xHOXjdBS.js";import{P as ss}from"./pencil-CsQsBtEd.js";import{F as as}from"./file-text-CE0d_IyD.js";import{T as rs}from"./trash-2-B5s2_dp9.js";import{M as ns}from"./message-square-BpmM0Gg8.js";import"./external-link-BKjQ-ECn.js";const Ie=[{text:"Reviewing your recent training sessions...",icon:"brain"},{text:"Analyzing strength progression trends...",icon:"calc"},{text:"Checking for pain history and injury risks...",icon:"alert"},{text:"Calculating working weights from your e1RM data...",icon:"calc"},{text:"Evaluating RPE patterns and recovery state...",icon:"brain"},{text:"Selecting exercises based on your focus area...",icon:"dumbbell"},{text:"Applying progressive overload to target weights...",icon:"calc"},{text:"Balancing volume with recovery capacity...",icon:"brain"},{text:"Building optimal set and rep schemes...",icon:"dumbbell"},{text:"Writing personalized coaching notes...",icon:"msg"}];function hs(){var Xe;const ue=Mt();Ht("Generate Workout");const[We]=Gt(),{user:E,userProfile:S,updateProfile:Re,isAppAdmin:ut}=Bt(),[a]=d.useState(()=>{try{const t=We.get("programContext");return t?JSON.parse(t):null}catch{return null}}),[D,Ae]=d.useState(!1),[V,Pe]=d.useState(!0),[y,k]=d.useState(null),[X,pt]=d.useState(null),[Oe,Q]=d.useState(null),[Le,Fe]=d.useState(!1),[j,Me]=d.useState(!1),[He,ee]=d.useState(null),[pe,L]=d.useState(null),[he,F]=d.useState(""),[ge,ht]=d.useState(!1),[Ge,be]=d.useState(null),[Be,fe]=d.useState(null),[ye,gt]=d.useState(!1),[M,we]=d.useState([]),[ls,ze]=d.useState(null),[H,I]=d.useState([]),G=d.useRef(null),A=d.useRef(null),[b,bt]=d.useState({recentWorkouts:[],goals:[],maxLifts:{},painHistory:{},rpeAverages:{},cardioHistory:[],ouraData:null}),[B,ft]=d.useState(()=>{var s;if(!a)return"";const t=[`Program: ${a.programName} — Week ${a.weekNumber} (${a.phase})`];return t.push(`Day: ${a.dayLabel} (${a.dayType})`),t.push(`Primary: ${a.primaryLift} ${a.primaryScheme} @ ${a.intensity}`),((s=a.accessories)==null?void 0:s.length)>0&&t.push(`Accessories: ${a.accessories.join(", ")}`),a.notes&&t.push(`Notes: ${a.notes}`),t.push(`
Generate this workout following the program prescription above. Use my actual performance data to calculate working weights.`),t.join(`
`)}),[N,yt]=d.useState("strength"),[v,je]=d.useState(a?"bench":"auto"),[Ne,Ue]=d.useState((a==null?void 0:a.dayType)==="deload"?"recovery":(a==null?void 0:a.dayType)==="test"?"max":(a==null?void 0:a.dayType)==="speed"?"light":"moderate"),[P,_e]=d.useState("standard"),[z,wt]=d.useState("auto"),[U,jt]=d.useState("auto"),[ve,ke]=d.useState(!1),[Se,Ce]=d.useState(!1),[$,Ee]=d.useState(""),[qe,Nt]=d.useState(()=>{const t=We.get("date");return t&&/^\d{4}-\d{2}-\d{2}$/.test(t)?t:zt()}),te=ut;d.useEffect(()=>{E&&kt()},[E]),d.useEffect(()=>{G.current&&(G.current.scrollTop=G.current.scrollHeight)},[H]),d.useEffect(()=>()=>{A.current&&clearInterval(A.current)},[]);const w=(t,s,r=null)=>{we(l=>{const i=l.findIndex(n=>n.label===t);if(i>=0){const n=[...l];return n[i]={label:t,status:s,detail:r},n}return[...l,{label:t,status:s,detail:r}]}),ze(t)},vt=()=>{I([]);let t=0;I([{...Ie[0],id:0}]),t=1,A.current=setInterval(()=>{t<Ie.length?(I(s=>[...s,{...Ie[t],id:t}]),t++):I(s=>[...s,{text:"Finalizing your workout...",icon:"brain",id:s.length}])},2e3)},Je=()=>{A.current&&(clearInterval(A.current),A.current=null)},Ke=t=>{switch(t){case"brain":return e.jsx(de,{className:"w-3 h-3 text-flame-400"});case"alert":return e.jsx(Z,{className:"w-3 h-3 text-amber-400"});case"calc":return e.jsx(De,{className:"w-3 h-3 text-purple-400"});case"dumbbell":return e.jsx(it,{className:"w-3 h-3 text-cyan-400"});case"msg":return e.jsx(ns,{className:"w-3 h-3 text-blue-400"});case"check":return e.jsx(lt,{className:"w-3 h-3 text-green-400"});case"error":return e.jsx(Z,{className:"w-3 h-3 text-red-400"});default:return e.jsx(T,{className:"w-3 h-3 text-flame-400 animate-spin"})}},kt=async()=>{var t,s,r,l;try{Pe(!0),we([]);const i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let n=[];w("Loading workout history","loading");try{(await ne(le(ie(oe,"workouts"),Y("userId","==",E.uid),ce(50)))).docs.forEach(x=>{var h,u;const p=x.data();if(p.status==="completed"){const g=((u=(h=p.date)==null?void 0:h.toDate)==null?void 0:u.call(h))||new Date(p.date);n.push({...p,date:g.toISOString().split("T")[0],dayOfWeek:i[g.getDay()]})}})}catch(m){console.error(m)}try{(await ne(le(ie(oe,"groupWorkouts"),Y("assignedTo","==",E.uid),ce(50)))).docs.forEach(x=>{var h,u;const p=x.data();if(p.status==="completed"){const g=((u=(h=p.date)==null?void 0:h.toDate)==null?void 0:u.call(h))||new Date(p.date);n.push({...p,date:g.toISOString().split("T")[0],dayOfWeek:i[g.getDay()]})}})}catch(m){console.error(m)}n.sort((m,x)=>new Date(x.date||0)-new Date(m.date||0)),n=n.slice(0,20),w("Loading workout history","complete",`${n.length} workouts found`),w("Analyzing max lifts","loading");const o={},c={},f={},_=new Date;n.forEach(m=>{var h;const x=(h=m.date)!=null&&h.toDate?m.date.toDate():m.date?new Date(m.date):null,p=x&&!isNaN(x.getTime())?Math.floor((_-x)/(1e3*60*60*24)):null;(m.exercises||[]).forEach(u=>{u.name&&(u.sets||[]).forEach(g=>{const O=parseFloat(g.actualWeight)||parseFloat(g.prescribedWeight)||0,re=parseInt(g.actualReps)||parseInt(g.prescribedReps)||0,st=parseInt(g.rpe)||0,at=parseInt(g.painLevel)||0;if(!(!g.actualWeight&&!g.actualReps&&g.prescribedWeight)){if(O>0&&re>0&&re<=12){const rt=Math.round(O*(1+re/30));(!o[u.name]||rt>o[u.name].e1rm)&&(o[u.name]={weight:O,reps:re,e1rm:rt})}at>0&&(c[u.name]||(c[u.name]={count:0,maxPain:0,lastDaysAgo:null,recentCount:0}),c[u.name].count++,c[u.name].maxPain=Math.max(c[u.name].maxPain,at),p!==null&&((c[u.name].lastDaysAgo===null||p<c[u.name].lastDaysAgo)&&(c[u.name].lastDaysAgo=p),p<=30&&c[u.name].recentCount++)),st>0&&(f[u.name]||(f[u.name]={total:0,count:0}),f[u.name].total+=st,f[u.name].count++)}})})});const Qe=Object.keys(o).length,Lt=Object.entries(o).sort((m,x)=>x[1].e1rm-m[1].e1rm).slice(0,3).map(([m,x])=>`${m}: ${x.e1rm}lb`);w("Analyzing max lifts","complete",Qe>0?`${Qe} lifts tracked. Top: ${Lt.join(", ")}`:"No lift data found");const q=S==null?void 0:S.aiContextOverrides;q&&(q.maxLifts&&Object.entries(q.maxLifts).forEach(([m,x])=>{o[m]={...o[m]||{},...x}}),q.excludeExercises&&q.excludeExercises.forEach(m=>{const x=m.toLowerCase();Object.keys(o).forEach(p=>{const h=p.toLowerCase();(x===h||h.includes(x)||x.includes(h))&&delete o[p]})})),w("Checking pain history","loading");const et=Object.keys(c).length,Ft=Object.keys(c).slice(0,3).join(", ");w("Checking pain history",et>0?"warning":"complete",et>0?`Pain flagged on: ${Ft}`:"No pain history"),w("Analyzing RPE patterns","loading");const J={};Object.entries(f).forEach(([m,x])=>{J[m]=Math.round(x.total/x.count*10)/10});const tt=Object.values(J).length>0?(Object.values(J).reduce((m,x)=>m+x,0)/Object.values(J).length).toFixed(1):null;w("Analyzing RPE patterns","complete",tt?`Average RPE: ${tt}`:"No RPE data"),w("Loading goals","loading");let ae=[];try{ae=(await ne(le(ie(oe,"goals"),Y("userId","==",E.uid),ce(10)))).docs.map(x=>x.data()).filter(x=>x.status==="active")}catch(m){console.error(m)}w("Loading goals","complete",ae.length>0?`${ae.length} active goals`:"No active goals"),w("Loading cardio history","loading");let W=[];try{W=(await ne(le(ie(oe,"workouts"),Y("userId","==",E.uid),Y("workoutType","==","cardio"),ce(20)))).docs.map(x=>{var h,u,g,O;const p=x.data();return{...p,date:((O=(g=(u=(h=p.date)==null?void 0:h.toDate)==null?void 0:u.call(h))==null?void 0:g.toISOString)==null?void 0:O.call(g).split("T")[0])||p.date}}),W.sort((x,p)=>new Date(p.date||0)-new Date(x.date||0)),W=W.slice(0,10)}catch(m){console.error(m)}w("Loading cardio history","complete",W.length>0?`${W.length} recent cardio sessions`:"No cardio data");let K=null;try{K=await Ut.getLatestScores(E.uid),K&&w("Loading Oura data","complete",`Readiness: ${((s=(t=K.latest)==null?void 0:t.readiness)==null?void 0:s.score)||"—"}, Sleep: ${((l=(r=K.latest)==null?void 0:r.sleep)==null?void 0:l.score)||"—"}`)}catch{}bt({recentWorkouts:n,goals:ae,maxLifts:o,painHistory:c,rpeAverages:J,cardioHistory:W,ouraData:K}),ze(null)}catch(i){console.error("Error loading context:",i)}finally{Pe(!1)}},St=async()=>{var r;const t=(S==null?void 0:S.credits)??0,s=P==="premium"?xe:me["generate-workout"];if(!te&&t<s){Q(`Not enough credits. You need ${s} credits but have ${t}. Check Settings for your usage.`);return}Ae(!0),Q(null),w("Generating workout","loading"),vt();try{te||Re({credits:t-s});const l=await $e(),i=await fetch(Te("generate-workout"),{method:"POST",headers:l,body:JSON.stringify({prompt:B,workoutFocus:v,intensity:Ne,workoutCategory:N,model:P,includeWarmup:ve,includeStretches:Se,duration:z!=="auto"?parseInt(z):null,exerciseCount:U!=="auto"?parseInt(U):null,maxExercise:v==="1rm-test"?$:null,draftMode:!0,context:{recentWorkouts:b.recentWorkouts.slice(0,5),goals:b.goals,maxLifts:b.maxLifts,painHistory:b.painHistory,rpeAverages:b.rpeAverages,cardioHistory:b.cardioHistory,ouraData:b.ouraData}})});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.error||"Failed to generate workout")}const n=await i.json();k(n.workout),pt(n.usage),Je(),I(o=>[...o,{text:"Workout ready!",icon:"check",id:o.length}]),w("Generating workout","complete",`Created in ${(r=n.usage)==null?void 0:r.responseMs}ms`)}catch(l){console.error("Generation error:",l),Q(l.message),te||Re({credits:t}),Je(),I(i=>[...i,{text:`Error: ${l.message}`,icon:"error",id:i.length}]),w("Generating workout","error",l.message)}finally{Ae(!1)}},Ct=async()=>{if(y){Fe(!0);try{const t={...y,date:new Date(qe+"T12:00:00"),status:"scheduled"};a&&(t.programId=a.programId,t.programWeek=a.weekNumber,t.programDayLabel=a.dayLabel);const s=await Qt.create(E.uid,t);if(a!=null&&a.programId&&(a!=null&&a.dayKey))try{const r=await xt.get(a.programId);if(r){const l=[...r.completedDays||[],a.dayKey];await xt.update(a.programId,{completedDays:l})}}catch(r){console.error("Failed to mark program day complete:",r)}ue(`/workouts/${s.id}`)}catch(t){console.error("Save error:",t),Q("Failed to save workout")}finally{Fe(!1)}}},Et=(t,s)=>{k(r=>({...r,exercises:r.exercises.map((l,i)=>i===t?{...l,name:s}:l)}))},se=(t,s,r,l)=>{k(i=>({...i,exercises:i.exercises.map((n,o)=>o===t?{...n,sets:n.sets.map((c,f)=>f===s?{...c,[r]:l}:c)}:n)}))},Dt=t=>{k(s=>({...s,exercises:s.exercises.filter((r,l)=>l!==t)}))},$t=t=>{k(s=>({...s,exercises:s.exercises.map((r,l)=>{if(l!==t)return r;const i=r.sets[r.sets.length-1]||{};return{...r,sets:[...r.sets,{...i,id:Date.now(),completed:!1}]}})}))},Tt=(t,s)=>{k(r=>({...r,exercises:r.exercises.map((l,i)=>i===t?{...l,sets:l.sets.filter((n,o)=>o!==s)}:l)}))},Ye=async(t,s)=>{const r=y.exercises[t];if(r){ee(t);try{const l=y.exercises.filter((c,f)=>f!==t).map(c=>c.name),i=await $e(),n=await fetch(Te("swap-exercise"),{method:"POST",headers:i,body:JSON.stringify({exerciseName:r.name,exerciseType:r.type||"weight",sets:r.sets,workoutContext:{otherExercises:l},...s?{reason:s}:{}})});if(!n.ok)throw new Error("Swap failed");const o=await n.json();o.exercise&&k(c=>({...c,exercises:c.exercises.map((f,_)=>_===t?{...o.exercise,type:o.exercise.type||f.type||"weight"}:f)}))}catch(l){console.error("Swap error:",l)}finally{ee(null)}}},It=async(t,s)=>{const r=y.exercises[t];if(r){ee(t),be(null),fe(null);try{const l=y.exercises.filter((c,f)=>f!==t).map(c=>c.name),i=await $e(),n=await fetch(Te("swap-exercise"),{method:"POST",headers:i,body:JSON.stringify({exerciseName:r.name,exerciseType:r.type||"weight",sets:r.sets,workoutContext:{otherExercises:l},preferredReplacement:s})});if(!n.ok)throw new Error("Swap failed");const o=await n.json();o.exercise&&k(c=>({...c,exercises:c.exercises.map((f,_)=>_===t?{...o.exercise,type:o.exercise.type||f.type||"weight"}:f)}))}catch(l){console.error("Substitution swap error:",l)}finally{ee(null)}}},Ze=()=>{k(null),Me(!1),I([]),we(t=>t.filter(s=>s.label!=="Generating workout"))},Wt=t=>{const s=t.type||"weight";return s==="time"?{label:"Time",color:"bg-blue-500/20 text-blue-400"}:s==="bodyweight"?{label:"BW",color:"bg-emerald-500/20 text-emerald-400"}:null},Rt=(t,s)=>s==="time"?`${t.prescribedTime||"?"}s`:s==="bodyweight"?`${t.prescribedReps||"?"} reps`:`${t.prescribedWeight?`${t.prescribedWeight} lbs × `:""}${t.prescribedReps||"?"} reps`,At=[{value:"strength",label:"Strength",desc:"Standard weight training",icon:it,color:"flame"},{value:"hiit",label:"HIIT",desc:"Timed work/rest intervals",icon:ts,color:"red"},{value:"wod",label:"WOD",desc:"AMRAP / EMOM / For Time",icon:ot,color:"yellow"},{value:"mobility",label:"Mobility",desc:"Flexibility & movement flows",icon:Jt,color:"green"},{value:"calisthenics",label:"Calisthenics",desc:"Bodyweight progressions",icon:Kt,color:"cyan"},{value:"dynamic",label:"Dynamic",desc:"Explosive & plyometric",icon:Yt,color:"purple"}],Ve={strength:{showFocus:!0,showIntensity:!0,showDuration:!0,showExerciseCount:!0,showWarmup:!0},hiit:{showFocus:!0,showIntensity:!1,showDuration:!0,showExerciseCount:!0,showWarmup:!0},wod:{showFocus:!1,showIntensity:!1,showDuration:!0,showExerciseCount:!1,showWarmup:!1},mobility:{showFocus:!0,showIntensity:!1,showDuration:!0,showExerciseCount:!0,showWarmup:!1},calisthenics:{showFocus:!0,showIntensity:!0,showDuration:!0,showExerciseCount:!0,showWarmup:!0},dynamic:{showFocus:!0,showIntensity:!0,showDuration:!0,showExerciseCount:!0,showWarmup:!0}},C=Ve[N]||Ve.strength,Pt=[{value:"auto",label:"Auto"},{value:"push",label:"Push"},{value:"pull",label:"Pull"},{value:"legs",label:"Legs"},{value:"upper",label:"Upper"},{value:"full",label:"Full Body"},{value:"bench",label:"Bench Focus"},{value:"core",label:"Core"},{value:"no-equipment",label:"Bodyweight"},{value:"vacation",label:"Hotel / Travel"},{value:"1rm-test",label:"Test 1RM"}],Ot=[{value:"light",label:"Light",desc:"RPE 5-6"},{value:"moderate",label:"Moderate",desc:"RPE 7-8"},{value:"heavy",label:"Heavy",desc:"RPE 8-9"},{value:"max",label:"Max",desc:"RPE 9-10"}];return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[a&&e.jsxs("div",{className:"mb-4 p-3 bg-flame-500/10 border border-flame-500/20 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-flame-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(_t,{className:"w-4 h-4 text-flame-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-flame-300",children:a.programName}),e.jsxs("p",{className:"text-xs text-iron-400",children:["Week ",a.weekNumber," · ",a.phase," · ",a.dayLabel]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium border ${{primary:"bg-flame-500/20 text-flame-400 border-flame-500/30",volume:"bg-blue-500/20 text-blue-400 border-blue-500/30",speed:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",deload:"bg-green-500/20 text-green-400 border-green-500/30",test:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}[a.dayType]||"bg-iron-800 text-iron-400 border-iron-700"}`,children:a.dayType})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>ue(a?`/programs/${a.programId}`:"/workouts"),className:"p-2 text-iron-400 hover:text-iron-200 hover:bg-iron-800 rounded-xl transition-colors",children:e.jsx(qt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl text-iron-50",children:a?"Generate Program Workout":"AI Generate Workout"}),e.jsx("p",{className:"text-iron-400 mt-1",children:a?`${a.primaryLift} ${a.primaryScheme} @ ${a.intensity}`:"Personalized based on your training history"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsxs("div",{className:"card-steel rounded-xl p-4",children:[e.jsxs("button",{onClick:()=>ht(!ge),className:"flex items-center gap-2 w-full lg:cursor-default",children:[e.jsx(de,{className:"w-5 h-5 text-flame-400"}),e.jsx("h3",{className:"font-medium text-iron-200 flex-1 text-left",children:"Analysis"}),!V&&M.length>0&&e.jsxs("span",{className:"text-xs text-iron-500 lg:hidden",children:[M.filter(t=>t.status==="complete").length,"/",M.length]}),e.jsx(nt,{className:`w-4 h-4 text-iron-500 lg:hidden transition-transform ${ge?"rotate-180":""}`})]}),e.jsxs("div",{className:`${ge?"":"hidden"} lg:block mt-4`,children:[e.jsxs("div",{className:"space-y-3",children:[M.map((t,s)=>e.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5",children:t.status==="loading"?e.jsx(T,{className:"w-4 h-4 text-flame-400 animate-spin"}):t.status==="complete"?e.jsx(lt,{className:"w-4 h-4 text-green-400"}):t.status==="warning"?e.jsx(Z,{className:"w-4 h-4 text-amber-400"}):e.jsx(Z,{className:"w-4 h-4 text-red-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-iron-200",children:t.label}),t.detail&&e.jsx("p",{className:"text-xs text-iron-500 mt-0.5 truncate",children:t.detail})]})]},t.label)),M.length===0&&e.jsxs("div",{className:"flex items-center gap-2 text-iron-500",children:[e.jsx(T,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Starting analysis..."})]})]}),(D||H.length>0)&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[D&&e.jsx(T,{className:"w-3 h-3 text-flame-400 animate-spin"}),e.jsx("p",{className:"text-xs text-iron-500 uppercase tracking-wider",children:D?"AI Thinking...":"AI Process"})]}),e.jsxs("div",{ref:G,className:"max-h-44 overflow-y-auto space-y-1.5",children:[H.map(t=>e.jsxs(R.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0",children:Ke(t.icon)}),e.jsx("p",{className:"text-xs text-iron-400 leading-relaxed",children:t.text})]},t.id)),D&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{className:"w-1 h-1 bg-flame-400 rounded-full animate-pulse"}),e.jsx("span",{className:"w-1 h-1 bg-flame-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("span",{className:"w-1 h-1 bg-flame-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]}),!V&&!D&&H.length===0&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-iron-800",children:[e.jsx("p",{className:"text-xs text-iron-500 uppercase tracking-wide mb-3",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-lg font-semibold text-iron-100",children:b.recentWorkouts.length}),e.jsx("p",{className:"text-xs text-iron-500",children:"Workouts"})]}),e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-lg font-semibold text-iron-100",children:Object.keys(b.maxLifts).length}),e.jsx("p",{className:"text-xs text-iron-500",children:"Lifts Tracked"})]}),e.jsxs("div",{className:"bg-iron-800/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-lg font-semibold text-iron-100",children:b.goals.length}),e.jsx("p",{className:"text-xs text-iron-500",children:"Goals"})]}),e.jsxs("div",{className:`bg-iron-800/50 rounded-lg p-2 ${Object.keys(b.painHistory).length>0?"border border-amber-500/30":""}`,children:[e.jsx("p",{className:"text-lg font-semibold text-iron-100",children:Object.keys(b.painHistory).length}),e.jsx("p",{className:"text-xs text-iron-500",children:"Pain Flags"})]})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:D?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-iron-800/30 rounded-xl border border-flame-500/20 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-iron-700/50 bg-flame-500/5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-flame-500/20 flex items-center justify-center",children:e.jsx(de,{className:"w-4 h-4 text-flame-400 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-iron-200",children:"AI is generating your workout..."}),e.jsxs("p",{className:"text-xs text-iron-500",children:[N!=="strength"?`${N.toUpperCase()} · `:"",v!=="auto"?v:"Auto"," · ",Ne," intensity",z!=="auto"?` · ${z}min`:"",U!=="auto"?` · ${U} exercises`:"",B?` · "${B.slice(0,40)}${B.length>40?"...":""}"`:""]})]}),e.jsx(T,{className:"w-5 h-5 text-flame-400 animate-spin ml-auto"})]}),e.jsxs("div",{ref:G,className:"p-4 max-h-[400px] overflow-y-auto space-y-2.5 scrollbar-thin",children:[H.map(t=>e.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-start gap-3 py-1",children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0 w-5 h-5 rounded bg-iron-800 flex items-center justify-center",children:Ke(t.icon)}),e.jsx("p",{className:"text-sm text-iron-300 leading-relaxed",children:t.text})]},t.id)),e.jsxs("div",{className:"flex items-center gap-1.5 pt-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-flame-400 rounded-full animate-pulse"}),e.jsx("span",{className:"w-1.5 h-1.5 bg-flame-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("span",{className:"w-1.5 h-1.5 bg-flame-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]})}):y?e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-steel rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400 font-medium",children:"Draft"})}),j?e.jsx("input",{type:"text",value:y.name,onChange:t=>k(s=>({...s,name:t.target.value})),className:"input-field w-full text-xl font-semibold"}):e.jsx("h2",{className:"text-xl font-semibold text-iron-100",children:y.name}),y.description&&!j&&e.jsx("p",{className:"text-iron-400 mt-1",children:y.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Me(!j),className:`p-2 rounded-xl transition-colors ${j?"text-flame-400 bg-flame-500/10":"text-iron-400 hover:text-iron-200 hover:bg-iron-800"}`,title:j?"Done editing":"Edit workout",children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Ze,className:"p-2 text-iron-400 hover:text-iron-200 hover:bg-iron-800 rounded-xl",title:"Start over",children:e.jsx(ct,{className:"w-5 h-5"})})]})]}),X&&e.jsxs("p",{className:"text-xs text-iron-600 mt-2",children:[X.tokens," tokens · ",X.responseMs,"ms · ",X.cost]})]}),y.notes&&!j&&e.jsxs("div",{className:"border-b border-iron-800",children:[e.jsxs("div",{className:"flex items-center gap-2 px-6 pt-3",children:[e.jsx(de,{className:"w-4 h-4 text-flame-400"}),e.jsx("span",{className:"text-xs text-iron-500 uppercase tracking-wider",children:"Coaching Notes"})]}),e.jsx("div",{className:"px-6 py-3 max-h-32 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-iron-400 leading-relaxed",children:y.notes})})]}),y.generationPrompt&&!j&&e.jsxs("div",{className:"border-b border-iron-800",children:[e.jsxs("button",{onClick:()=>gt(!ye),className:"w-full flex items-center justify-between px-6 py-3 hover:bg-iron-800/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{className:"w-4 h-4 text-iron-500"}),e.jsx("span",{className:"text-sm font-medium text-iron-200",children:"Generation Prompt"})]}),ye?e.jsx(Zt,{className:"w-4 h-4 text-iron-500"}):e.jsx(nt,{className:"w-4 h-4 text-iron-500"})]}),e.jsx(dt,{children:ye&&e.jsx(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"px-6 pb-3",children:e.jsx("pre",{className:"text-xs text-iron-400 leading-relaxed whitespace-pre-wrap font-mono max-h-96 overflow-y-auto",children:y.generationPrompt})})})})]}),e.jsx("div",{className:"divide-y divide-iron-800",children:(Xe=y.exercises)==null?void 0:Xe.map((t,s)=>{var i;const r=Wt(t),l=t.type||"weight";return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-iron-800 flex items-center justify-center text-iron-400 text-sm font-medium",children:s+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[j?e.jsx("input",{type:"text",value:t.name,onChange:n=>Et(s,n.target.value),className:"input-field w-full text-sm font-medium"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{be(t),fe(s)},className:"font-medium text-iron-100 hover:text-flame-400 transition-colors text-left flex items-center gap-1.5",children:[t.name,e.jsx(Vt,{className:"w-3.5 h-3.5 text-iron-600 flex-shrink-0"})]}),r&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${r.color}`,children:r.label})]}),t.notes&&!j&&e.jsx("p",{className:"text-xs text-iron-500 mt-0.5",children:t.notes})]}),!j&&e.jsx("button",{onClick:()=>L(s),disabled:He!==null,title:"Swap for similar exercise",className:"p-1.5 text-iron-500 hover:text-flame-400 hover:bg-flame-500/10 rounded-lg transition-colors disabled:opacity-30",children:He===s?e.jsx(T,{className:"w-4 h-4 animate-spin text-flame-400"}):e.jsx(ct,{className:"w-4 h-4"})}),j&&e.jsx("button",{onClick:()=>Dt(s),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg",children:e.jsx(rs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"ml-11 space-y-1",children:[(i=t.sets)==null?void 0:i.map((n,o)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"text-iron-500 w-12",children:["Set ",o+1]}),j?e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l==="time"?e.jsx("input",{type:"text",value:n.prescribedTime||"",onChange:c=>se(s,o,"prescribedTime",c.target.value),className:"input-field w-20 text-sm py-1",placeholder:"sec"}):l==="bodyweight"?e.jsx("input",{type:"text",value:n.prescribedReps||"",onChange:c=>se(s,o,"prescribedReps",c.target.value),className:"input-field w-20 text-sm py-1",placeholder:"reps"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:n.prescribedWeight||"",onChange:c=>se(s,o,"prescribedWeight",c.target.value),className:"input-field w-20 text-sm py-1",placeholder:"lbs"}),e.jsx("span",{className:"text-iron-500",children:"×"}),e.jsx("input",{type:"text",value:n.prescribedReps||"",onChange:c=>se(s,o,"prescribedReps",c.target.value),className:"input-field w-20 text-sm py-1",placeholder:"reps"})]}),e.jsx("button",{onClick:()=>Tt(s,o),className:"p-1 text-iron-600 hover:text-red-400",children:e.jsx(Xt,{className:"w-3 h-3"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-iron-300",children:Rt(n,l)}),n.targetRpe&&e.jsxs("span",{className:"text-iron-500 cursor-help",title:`RPE ${n.targetRpe}/10 effort — ${n.targetRpe>=10?"all-out, nothing left":n.targetRpe>=9?"could maybe do 1 more rep":n.targetRpe>=8?"could do ~2 more reps":n.targetRpe>=7?"could do ~3 more reps":"comfortable, 4+ reps in reserve"}`,children:["@ RPE ",n.targetRpe]})]})]},o)),j&&e.jsxs("button",{onClick:()=>$t(s),className:"text-xs text-flame-400 hover:text-flame-300 mt-1 flex items-center gap-1",children:[e.jsx(mt,{className:"w-3 h-3"})," Add set"]})]})]},s)})}),e.jsxs("div",{className:"p-4 border-t border-iron-800 flex gap-3",children:[e.jsx("button",{onClick:Ze,className:"btn-secondary flex-1",children:"Regenerate"}),e.jsx("button",{onClick:Ct,disabled:Le,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:Le?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-5 h-5"}),"Add to Workouts"]})})]})]}):e.jsxs("div",{className:"card-steel rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium text-iron-200 mb-3",children:"Workout Options"}),!V&&Object.keys(b.maxLifts).length===0&&e.jsxs("div",{className:"mb-3 p-2.5 bg-amber-500/10 border border-amber-500/20 rounded-lg flex items-start gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-300",children:"No training data yet"}),e.jsx("p",{className:"text-xs text-iron-500",children:"Weights will be set conservatively. Log a workout first for personalized loads."})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"Describe your workout (optional)"}),e.jsx("textarea",{value:B,onChange:t=>ft(t.target.value),placeholder:N==="hiit"?"e.g., 'Upper body HIIT, 30/15 intervals'":N==="wod"?"e.g., 'AMRAP with pull-ups and thrusters'":N==="mobility"?"e.g., 'Hip and thoracic spine focus'":N==="calisthenics"?"e.g., 'Push progression day with handstand work'":N==="dynamic"?"e.g., 'Lower body plyometrics and sprint work'":"e.g., 'Heavy bench day with tricep accessories'",className:"input-field w-full min-h-[60px] resize-none text-sm"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-2",children:"Workout Type"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:At.map(t=>{const s=t.icon,r=N===t.value,i={flame:{border:"border-flame-500",bg:"bg-flame-500/10",text:"text-flame-400",iconBg:"bg-flame-500/20"},red:{border:"border-red-500",bg:"bg-red-500/10",text:"text-red-400",iconBg:"bg-red-500/20"},yellow:{border:"border-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-400",iconBg:"bg-yellow-500/20"},green:{border:"border-green-500",bg:"bg-green-500/10",text:"text-green-400",iconBg:"bg-green-500/20"},cyan:{border:"border-cyan-500",bg:"bg-cyan-500/10",text:"text-cyan-400",iconBg:"bg-cyan-500/20"},purple:{border:"border-purple-500",bg:"bg-purple-500/10",text:"text-purple-400",iconBg:"bg-purple-500/20"}}[t.color];return e.jsxs("button",{onClick:()=>{yt(t.value),t.value!=="strength"&&v==="1rm-test"&&(je("auto"),Ee("")),t.value==="wod"&&(je("auto"),ke(!1),Ce(!1)),t.value==="mobility"&&(Ue("light"),ke(!1),Ce(!1))},className:`flex items-start gap-2.5 p-2.5 rounded-xl border transition-all text-left
                          ${r?`${i.border} ${i.bg} ${i.text}`:"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0
                          ${r?i.iconBg:"bg-iron-800"}`,children:e.jsx(s,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:t.label}),e.jsx("div",{className:"text-[10px] text-iron-500 leading-tight",children:t.desc})]})]},t.value)})})]}),C.showFocus&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"Style"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Pt.filter(t=>N!=="strength"?t.value!=="1rm-test":!0).map(t=>e.jsxs("button",{onClick:()=>{je(t.value),t.value!=="1rm-test"&&Ee("")},className:`px-3 py-1.5 text-sm rounded-lg border transition-colors
                        ${v===t.value?t.value==="1rm-test"?"border-yellow-500 bg-yellow-500/10 text-yellow-400":"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[t.label,t.value==="1rm-test"&&e.jsx("span",{className:"ml-1 text-[9px] px-1 py-0.5 rounded-full bg-green-500/20 text-green-400 font-medium leading-none",children:"New"})]},t.value))}),v==="auto"&&e.jsx("p",{className:"text-[11px] text-iron-600 mt-2",children:"Auto selects exercises from your logged workouts and adjusts weights based on recent performance. The more you log, the more variety you'll get."})]}),N==="strength"&&v==="1rm-test"&&e.jsxs("div",{className:"mb-4 p-3 bg-yellow-500/5 border border-yellow-500/20 rounded-xl",children:[e.jsx("label",{className:"block text-sm text-yellow-400 mb-2",children:"Which lift are you testing?"}),e.jsx("input",{type:"text",value:$,onChange:t=>Ee(t.target.value),placeholder:"e.g. Bench Press, Squat, Deadlift...",className:"input-field w-full",list:"known-exercises"}),e.jsx("datalist",{id:"known-exercises",children:Object.keys(b.maxLifts).map(t=>e.jsx("option",{value:t},t))}),$&&b.maxLifts[$]&&e.jsxs("p",{className:"text-xs text-iron-500 mt-2",children:["Current e1RM: ",e.jsxs("span",{className:"text-iron-300",children:[b.maxLifts[$].e1rm," lbs"]}),e.jsxs("span",{className:"text-iron-600",children:[" (best: ",b.maxLifts[$].weight,"×",b.maxLifts[$].reps,")"]})]}),e.jsx("p",{className:"text-xs text-iron-600 mt-1.5",children:"AI will generate warm-up ramps, attempt protocols, and accessory cooldown."})]}),C.showIntensity&&v!=="1rm-test"&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-iron-400 mb-1.5 block",children:"Intensity"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-1.5",children:Ot.map(t=>e.jsxs("button",{onClick:()=>Ue(t.value),className:`px-2 py-1.5 text-xs rounded-lg border transition-colors text-center
                        ${Ne===t.value?"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsx("div",{className:"font-medium",children:t.label}),e.jsx("div",{className:"text-[10px] text-iron-500",children:t.desc})]},t.value))})]}),v!=="1rm-test"&&(C.showDuration||C.showExerciseCount)&&e.jsxs("div",{className:`grid ${C.showDuration&&C.showExerciseCount?"grid-cols-2":"grid-cols-1"} gap-3 mb-3`,children:[C.showDuration&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"Duration"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{value:"auto",label:"Auto"},{value:"20",label:"20m"},{value:"30",label:"30m"},{value:"45",label:"45m"},{value:"60",label:"60m"},{value:"90",label:"90m"}].map(t=>e.jsx("button",{onClick:()=>wt(t.value),className:`px-2.5 py-1 text-xs rounded-lg border transition-colors
                          ${z===t.value?"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:t.label},t.value))})]}),C.showExerciseCount&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"Exercises"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{value:"auto",label:"Auto"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"8",label:"8"}].map(t=>e.jsx("button",{onClick:()=>jt(t.value),className:`px-2.5 py-1 text-xs rounded-lg border transition-colors
                          ${U===t.value?"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:t.label},t.value))})]})]}),C.showWarmup&&v!=="1rm-test"&&e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("button",{onClick:()=>ke(!ve),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors text-center ${ve?"border-flame-500/50 bg-flame-500/10 text-flame-400 font-semibold":"border-iron-700 text-iron-500 hover:border-iron-600"}`,children:"Warm-up"}),e.jsx("button",{onClick:()=>Ce(!Se),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors text-center ${Se?"border-flame-500/50 bg-flame-500/10 text-flame-400 font-semibold":"border-iron-700 text-iron-500 hover:border-iron-600"}`,children:"Stretches"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"Workout Date"}),e.jsx("input",{type:"date",value:qe,onChange:t=>Nt(t.target.value),className:"input-field text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-iron-400 mb-1.5",children:"AI Model"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>_e("standard"),className:`px-3 py-2 text-xs rounded-lg border transition-colors text-center
                        ${P==="standard"?"border-flame-500 bg-flame-500/10 text-flame-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsxs("div",{className:"font-medium flex items-center justify-center gap-1",children:[e.jsx(ot,{className:"w-3 h-3"}),"Standard"]}),e.jsxs("div",{className:"text-[10px] text-iron-500",children:[me["generate-workout"]," cr"]})]}),e.jsxs("button",{onClick:()=>_e("premium"),className:`px-3 py-2 text-xs rounded-lg border transition-colors text-center
                        ${P==="premium"?"border-purple-500 bg-purple-500/10 text-purple-400":"border-iron-700 text-iron-400 hover:border-iron-600"}`,children:[e.jsxs("div",{className:"font-medium flex items-center justify-center gap-1",children:[e.jsx(De,{className:"w-3 h-3"}),"Premium"]}),e.jsxs("div",{className:"text-[10px] text-iron-500",children:[xe," cr"]})]})]})]})]}),e.jsx("button",{onClick:St,disabled:D||V||v==="1rm-test"&&!$.trim()||!te&&((S==null?void 0:S.credits)??0)<(P==="premium"?xe:me["generate-workout"]),className:"btn-primary w-full flex items-center justify-center gap-2",children:D?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-5 h-5"}),"Generate Workout",e.jsxs("span",{className:"text-xs opacity-70 ml-1",children:["(",P==="premium"?xe:me["generate-workout"]," credits)"]})]})}),Oe&&e.jsx("p",{className:"text-red-400 text-sm mt-3 text-center",children:Oe})]})})]}),e.jsx(es,{exercise:Ge,isOpen:!!Ge,onClose:()=>{be(null),fe(null)},onSubstitute:Be!==null?t=>It(Be,t):void 0}),e.jsx(dt,{children:pe!==null&&e.jsxs(e.Fragment,{children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{L(null),F("")},className:"fixed inset-0 bg-black/60 z-50"}),e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-x-4 top-[30%] mx-auto max-w-sm bg-iron-900 border border-iron-700 rounded-2xl z-50 p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium text-iron-200",children:"Swap Exercise"}),e.jsx("p",{className:"text-xs text-iron-500",children:`Optionally note why you're swapping (e.g. "shoulder pain", "no cable machine")`}),e.jsx("input",{type:"text",value:he,onChange:t=>F(t.target.value),placeholder:"Reason (optional)",className:"input-field w-full text-sm",autoFocus:!0,onKeyDown:t=>{t.key==="Enter"&&(Ye(pe,he),L(null),F(""))}}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{L(null),F("")},className:"flex-1 py-2.5 text-sm text-iron-400 hover:text-iron-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>{Ye(pe,he),L(null),F("")},className:"flex-1 py-2.5 text-sm bg-flame-500/15 text-flame-400 border border-flame-500/30 rounded-xl hover:bg-flame-500/25 transition-colors",children:"Swap"})]})]})]})})]})}export{hs as default};
